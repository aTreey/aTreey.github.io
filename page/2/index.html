<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>aTreey&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="aTreey&#39;s Blog">
<meta property="og:url" content="https://github.com/aTreey/page/2/index.html">
<meta property="og:site_name" content="aTreey&#39;s Blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="aTreey&#39;s Blog">
  
    <link rel="alternate" href="/atom.xml" title="aTreey&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">aTreey&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://github.com/aTreey"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-ç¬¬ä¸ƒç« Blocksé¢è¯•" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/18/ç¬¬ä¸ƒç« Blocksé¢è¯•/" class="article-date">
  <time datetime="2019-06-18T14:45:48.771Z" itemprop="datePublished">2019-06-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Blocks"><a href="#Blocks" class="headerlink" title="Blocks"></a>Blocks</h1><h2 id="Block-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Block-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Block æ˜¯ä»€ä¹ˆï¼Ÿ"></a>Block æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>Blocks æ˜¯ C è¯­è¨€çš„æ‰©å……åŠŸèƒ½ï¼Œå°†å‡½æ•°åŠå…¶æ‰§è¡Œä¸Šä¸‹æ–‡å°è£…èµ·æ¥çš„å¯¹è±¡ï¼Œå¸¦æœ‰è‡ªåŠ¨å˜é‡ï¼ˆå±€éƒ¨å˜é‡ï¼‰çš„åŒ¿åå‡½æ•°</p>
<ul>
<li>å› ä¸ºblock åº•å±‚C++ ç»“æ„ä½“ä¸­å­˜åœ¨ç€ isa æŒ‡é’ˆï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡</li>
<li>å› ä¸ºblock åº•å±‚C++ ç»“æ„ä½“ä¸­å­˜åœ¨ç€ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆ FuncPtrï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°</li>
</ul>
<h2 id="ä»€ä¹ˆæ˜¯Block-è°ƒç”¨"><a href="#ä»€ä¹ˆæ˜¯Block-è°ƒç”¨" class="headerlink" title="ä»€ä¹ˆæ˜¯Block è°ƒç”¨"></a>ä»€ä¹ˆæ˜¯Block è°ƒç”¨</h2><p>Block çš„è°ƒç”¨å°±æ˜¯å‡½æ•°çš„è°ƒç”¨<br>åœ¨ç»ˆç«¯ä½¿ç”¨ clang ç¼–è¯‘ä¹‹åæŸ¥çœ‹æ–‡ä»¶å†…å®¹å¯å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š</p>
<ul>
<li>å¯¹å…¶è¿›è¡Œä¸€ä¸ªå¼ºåˆ¶è½¬æ¢ï¼Œè½¬æ¢ä¹‹åå–å‡ºæˆå‘˜å˜é‡ FuncPtr</li>
</ul>
<h2 id="æˆªè·å˜é‡"><a href="#æˆªè·å˜é‡" class="headerlink" title="æˆªè·å˜é‡"></a>æˆªè·å˜é‡</h2><p><strong>ä»¥ä¸‹ä»£ç è¿è¡Œç»“æœæ˜¯ 12</strong></p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79ly1g1xvmfjgo8j30uu0jmgnl.jpg" alt></p>
<pre><code>åŸå› ï¼šblock å¯¹åŸºæœ¬æ•°æ®ç±»å‹çš„å±€éƒ¨å˜é‡ä¼šæˆªè·å…¶å€¼ï¼Œåœ¨å®šä¹‰ block æ—¶ä»¥å€¼çš„æ–¹å¼ä¼ åˆ°äº†block å¯¹åº”çš„ç»“æ„ä½“å½“ä¸­ï¼Œè€Œè°ƒç”¨block æ—¶ç›´æ¥ä½¿ç”¨çš„æ˜¯blockå¯¹åº”ç»“æ„ä½“å½“ä¸­å·²ç»ä¼ è¿‡æ¥çš„é‚£ä¸ªå€¼ï¼Œæ‰€ä»¥å€¼ä¸º12
</code></pre><ul>
<li><p>å±€éƒ¨å˜é‡æˆªè·</p>
<ul>
<li>åŸºæœ¬æ•°æ®ç±»å‹çš„å±€éƒ¨å˜é‡æˆªè·å…¶å€¼</li>
<li>å¯¹è±¡ç±»å‹çš„å±€éƒ¨å˜é‡è¿åŒæ‰€æœ‰æƒä¿®é¥°ç¬¦ä¸€èµ·æˆªè·</li>
</ul>
</li>
<li><p>å±€éƒ¨é™æ€å˜é‡ï¼š å·²æŒ‡é’ˆå½¢å¼æˆªè·</p>
</li>
<li><p>å…¨å±€å˜é‡ï¼šä¸æˆªè·</p>
</li>
<li><p>é™æ€å…¨å±€å˜é‡ï¼š ä¸æˆªè·</p>
</li>
</ul>
<p><strong>ä»¥ä¸‹ä»£ç è¿è¡Œç»“æœæ˜¯ 8</strong></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79ly1g1xwb9qt9oj30n60bq75i.jpg" alt></p>
<pre><code>åŸå› ï¼šblock å¯¹å±€éƒ¨é™æ€å˜é‡ä¼šä»¥æŒ‡é’ˆå½¢å¼æˆªè·ï¼Œæ‰€ä»¥å€¼ä¸º8
</code></pre><h2 id="block-ä¿®é¥°ç¬¦"><a href="#block-ä¿®é¥°ç¬¦" class="headerlink" title="__block ä¿®é¥°ç¬¦"></a>__block ä¿®é¥°ç¬¦</h2><ul>
<li>__block ä¿®é¥°åçš„å˜é‡æœ€åå˜æˆäº†å¯¹è±¡ï¼Œåº•å±‚c++ ç»“æ„ä½“ä¸­å­˜åœ¨isaæŒ‡é’ˆ</li>
<li>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯¹è¢«æˆªè·å˜é‡è¿›è¡Œèµ‹å€¼æ“ä½œéœ€è¦æ·»åŠ <strong>block ä¿®é¥°ç¬¦ï¼Œè€Œæ“ä½œæ˜¯ä¸éœ€è¦æ·»åŠ </strong>block ä¿®é¥°ç¬¦çš„</li>
<li>ä¸éœ€è¦__block ä¿®é¥°ç¬¦ï¼Œå…¨å±€å˜é‡å’Œé™æ€å…¨å±€å˜é‡ block æ˜¯ä¸æˆªè·çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦ä¿®é¥°ï¼Œé™æ€å±€éƒ¨å˜é‡æ˜¯é€šè¿‡æŒ‡é’ˆæˆªè·çš„ï¼Œä¿®æ”¹å¤–éƒ¨çš„å˜é‡ï¼Œä¹Ÿä¸éœ€è¦æ·»åŠ <ul>
<li>é™æ€å±€éƒ¨å˜é‡</li>
<li>å…¨å±€å˜é‡</li>
<li>é™æ€å…¨å±€å˜é‡</li>
</ul>
</li>
</ul>
<p><strong>ä¸éœ€è¦æ·»åŠ __Block ä¿®é¥°ç¬¦</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- (void)test &#123;</span><br><span class="line">    NSMutableArray *array = [NSMutableArray array];</span><br><span class="line">    void(^block)(void) = ^&#123;</span><br><span class="line">        [array addObject:@1234];</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    block();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>éœ€è¦æ·»åŠ __Block ä¿®é¥°ç¬¦</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- (void)test &#123;</span><br><span class="line">    __block NSMutableArray *tempArray = nil;</span><br><span class="line">    void(^block)(void) = ^&#123;</span><br><span class="line">        tempArray = [NSMutableArray array];</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    block();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ä»¥ä¸‹ä»£ç è¿è¡Œç»“æœæ˜¯ 8</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- (void)test__Block3 &#123;</span><br><span class="line">    __block int multiplier = 6;</span><br><span class="line">    int(^Block)(int) = ^int(int num)&#123;</span><br><span class="line">        return multiplier * num;</span><br><span class="line">    &#125;;</span><br><span class="line">    multiplier = 4;</span><br><span class="line">    NSLog(@&quot;__block--test__Block3---result is %d&quot;, Block(2));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŸå› </p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79ly1g1xxea9gckj31hi0l2ju3.jpg" alt></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79ly1g1xxfpnz45j30zm0lstad.jpg" alt></p>
<p><strong>æ ˆä¸ŠBlock çš„<strong>block å˜é‡ä¸­çš„ </strong>forwarding æŒ‡é’ˆæŒ‡å‘çš„æ˜¯è‡ªèº«</strong></p>
<h2 id="Block-çš„å†…å­˜ç®¡ç†"><a href="#Block-çš„å†…å­˜ç®¡ç†" class="headerlink" title="Block çš„å†…å­˜ç®¡ç†"></a>Block çš„å†…å­˜ç®¡ç†</h2><p><strong>Block çš„ å†…å­˜åˆ†å¸ƒ</strong></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79ly1g1xxnyye6kj31ag0ran0f.jpg" alt></p>
<p><strong>Block çš„ Copy æ“ä½œ</strong></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79ly1g1xxouef30j315a0d640x.jpg" alt></p>
<ul>
<li>å…¨å±€block</li>
<li>å †block</li>
<li>æ ˆblock</li>
</ul>
<h2 id="Block-å¾ªç¯å¼•ç”¨"><a href="#Block-å¾ªç¯å¼•ç”¨" class="headerlink" title="Block å¾ªç¯å¼•ç”¨"></a>Block å¾ªç¯å¼•ç”¨</h2><ul>
<li>å¦‚æœå½“å‰blockå¯¹å½“å‰å¯¹è±¡çš„æŸä¸€å˜é‡è¿›è¡Œæˆªè·çš„è¯ï¼Œblock ä¼šå¯¹å¯¹åº”å˜é‡æœ‰ä¸€ä¸ªå¼ºå¼•ç”¨ï¼Œå½“å‰blockå› ä¸ºå½“å‰çš„å¯¹è±¡å¯¹å…¶æœ‰ä¸ªå¼ºå¼•ç”¨ï¼Œäº§ç”Ÿäº†è‡ªå¾ªç¯å¼•ç”¨ï¼Œé€šè¿‡å£°æ˜ä¸º__weakå˜é‡æ¥è§£å†³</li>
<li>å¦‚æœå®šä¹‰äº†__block ä¿®é¥°ç¬¦çš„è¯ä¹Ÿä¼šäº§ç”Ÿå¾ªç¯å¼•ç”¨ï¼Œåœ¨ARC ä¸‹ä¼šäº§ç”Ÿå¾ªç¯å¼•ç”¨ï¼Œè€Œåœ¨MRC ä¸‹ä¸ä¼šï¼Œåœ¨ARC ä¸‹é€šè¿‡æ‰“ç ´ç¯æ¥æ¶ˆé™¤ï¼Œä½†æ˜¯å­˜åœ¨å¼Šç«¯æ—¶å½“block æ²¡æœ‰æœºä¼šæ‰§è¡Œæ—¶ï¼Œ</li>
</ul>
<p>å¾ªç¯å¼•ç”¨1<br><img src="https://ws2.sinaimg.cn/large/006tNc79ly1g1xzmtsetqj31g20oewic.jpg" alt></p>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1g1xzmtsetqj31g20oewic.jpg" alt></p>
<p>å¤§ç¯å¾ªç¯å¼•ç”¨2 </p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1g1xzqfwf1uj319c0la0vk.jpg" alt></p>
<p>ä»¥ä¸Šä»£ç ï¼Œåœ¨MRC ä¸‹ï¼Œä¸ä¼šäº§ç”Ÿå¾ªç¯å¼•ç”¨ï¼Œåœ¨ARC ä¸‹ï¼Œä¼šäº§ç”Ÿå¾ªç¯åº”ç”¨ï¼Œå¼•èµ·å†…å­˜æ³„éœ²<br><img src="https://ws3.sinaimg.cn/large/006tNc79ly1g1xzvs524zj31h80l20uo.jpg" alt></p>
<p>è§£å†³æ–¹æ³•</p>
<p>å¦‚æœblock æ²¡æœ‰æœºä¼šæ‰§è¡Œï¼Œé‚£ä¹ˆå¾ªç¯å¼•ç”¨å°†ä¸ä¼šè¢«æ‰“ç ´<br><img src="https://ws2.sinaimg.cn/large/006tNc79ly1g1xzxf0iyxj31hp0u0aeq.jpg" alt></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/aTreey/2019/06/18/ç¬¬ä¸ƒç« Blocksé¢è¯•/" data-id="cjx1xeb93002xa9fylkqrkfwc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-ç¬¬ä¸‰ç« UIè§†å›¾å“åº”é“¾ç¦»å±æ¸²æŸ“é¢è¯•" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/18/ç¬¬ä¸‰ç« UIè§†å›¾å“åº”é“¾ç¦»å±æ¸²æŸ“é¢è¯•/" class="article-date">
  <time datetime="2019-06-18T14:45:48.771Z" itemprop="datePublished">2019-06-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="UITableView-ç›¸å…³"><a href="#UITableView-ç›¸å…³" class="headerlink" title="UITableView ç›¸å…³"></a>UITableView ç›¸å…³</h2><ul>
<li>é‡ç”¨æœºåˆ¶</li>
<li><p>å¹¶å‘è®¿é—®ï¼Œæ•°æ®æ‹·è´é—®é¢˜ï¼šä¸»çº¿ç¨‹åˆ é™¤äº†ä¸€æ¡æ•°æ®ï¼Œå­çº¿ç¨‹æ•°æ®ç”±åˆ é™¤ä¹‹å‰çš„æ•°æ®æºcopyè€Œæ¥ï¼Œå­çº¿ç¨‹ç½‘ç»œè¯·æ±‚ï¼Œæ•°æ®è§£æï¼Œé¢„æ’ç‰ˆç­‰æ“ä½œåï¼Œå›åˆ°ä¸»çº¿ç¨‹åˆ·æ–°æ—¶å·²ç»åˆ é™¤çš„æ•°æ®åˆä¼šé‡ç°</p>
<ul>
<li><p>ä¸»çº¿ç¨‹æ•°æ®æºåˆ é™¤æ—¶å¯¹æ•°æ®è¿›è¡Œè®°å½•ï¼Œå­çº¿ç¨‹çš„æ•°æ®å›æ¥åå†è¿›è¡Œä¸€æ¬¡åŒæ­¥åˆ é™¤æ“ä½œï¼Œç„¶åå†åˆ·æ–°æ•°æ®</p>
</li>
<li><p>ä½¿ç”¨GCDä¸­çš„ä¸²è¡Œé˜Ÿåˆ—ï¼Œå°†æ•°æ®åˆ é™¤å’Œæ•°æ®è§£æåœ¨æ­¤é˜Ÿåˆ—ä¸­è¿›è¡Œ</p>
</li>
</ul>
</li>
</ul>
<h2 id="UIView-å’ŒCALayer-çš„å…³ç³»"><a href="#UIView-å’ŒCALayer-çš„å…³ç³»" class="headerlink" title="UIView å’ŒCALayer çš„å…³ç³»"></a>UIView å’ŒCALayer çš„å…³ç³»</h2><ul>
<li>UIView ä¸º CALayer æä¾›å†…å®¹ï¼Œè´Ÿè´£å¤„ç†è§¦æ‘¸äº‹ä»¶ï¼Œå‚ä¸å“åº”é“¾</li>
<li>CALayer è´Ÿè´£æ˜¾ç¤ºå†…å®¹ï¼Œåˆ†å·¥æ˜ç¡®ï¼ŒUIView çš„Layer å®é™…ä¸Šå°±æ˜¯CALayerï¼Œ backgroundColor ç­‰å±æ€§æœ¬è´¨æ˜¯å¯¹CALayer åšäº†ä¸€å±‚åŒ…è£…</li>
</ul>
<h2 id="äº‹ä»¶ä¼ é€’"><a href="#äº‹ä»¶ä¼ é€’" class="headerlink" title="äº‹ä»¶ä¼ é€’"></a>äº‹ä»¶ä¼ é€’</h2><p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1g1omq41fi4j31hn0u0n3a.jpg" alt></p>
<ul>
<li>hitTest æ–¹æ³•æ˜¯è¿”å›å“åº”æ—¶é—´çš„è¯•å›¾</li>
<li>pointInside withEvent æ–¹æ³•åˆ¤æ–­ç‚¹å‡»ä½ç½®æ˜¯å¦åœ¨å½“å‰è§†å›¾èŒƒå›´å†…</li>
<li>å€’åºéå†æœ€ç»ˆå“åº”äº‹ä»¶çš„è¯•å›¾ï¼Œæœ€åæ·»åŠ çš„è¯•å›¾ä¼šæœ€ä¼˜å…ˆè¢«éå†åˆ°</li>
</ul>
<p><strong>éœ€æ±‚æ¡ˆä¾‹</strong></p>
<p>åªè®©æ­£æ–¹å½¢çš„viewä¸­åœ†å½¢åŒºåŸŸå†…å¯ä»¥å“åº”äº‹ä»¶ï¼Œå››ä¸ªè§’çš„ä½ç½®ä¸å“åº”äº‹ä»¶<br><img src="https://ws1.sinaimg.cn/large/006tKfTcly1g1onklz0k8j309q0a674h.jpg" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">class CircularAreaResponseButton: UIButton &#123;</span><br><span class="line">    </span><br><span class="line">    override func hitTest(_ point: CGPoint, with event: UIEvent?) -&gt; UIView? &#123;</span><br><span class="line">        if self.isHidden || !self.isUserInteractionEnabled ||  self.alpha &lt;= 0.01 &#123;</span><br><span class="line">            return nil</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        var hitView: UIView?</span><br><span class="line">        if self.point(inside: point, with: event) &#123;</span><br><span class="line">            // éå†å½“å‰è§†å›¾çš„å­è¯•å›¾</span><br><span class="line">            for subView in subviews &#123;</span><br><span class="line">                // åæ ‡è½¬æ¢</span><br><span class="line">                let convertPoint = self.convert(point, to: subView)</span><br><span class="line">                if let hitTestView = subView.hitTest(convertPoint, with: event) &#123;</span><br><span class="line">                    // æ‰¾åˆ°äº†æœ€ç»ˆå“åº”äº‹ä»¶çš„è¯•å›¾</span><br><span class="line">                    hitView = hitTestView</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            if hitView != nil &#123;</span><br><span class="line">                return hitView</span><br><span class="line">            &#125;</span><br><span class="line">            return self</span><br><span class="line">        &#125;</span><br><span class="line">        return nil</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    override func point(inside point: CGPoint, with event: UIEvent?) -&gt; Bool &#123;</span><br><span class="line">        let x1 = point.x</span><br><span class="line">        let y1 = point.y</span><br><span class="line">        </span><br><span class="line">        let x2 = self.frame.width / 2.0</span><br><span class="line">        let y2 = self.frame.height / 2.0</span><br><span class="line">        // ä½¿ç”¨å¹³é¢å†…ä¸¤ç‚¹è§è·ç¦»å…¬å¼è®¡ç®—è·ç¦», å¹¶ä¸”åˆ¤æ–­æ˜¯å¦ &lt;= åœ†çš„åŠå¾„</span><br><span class="line">        return sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2)) &lt;= x2</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="è§†å›¾å“åº”"><a href="#è§†å›¾å“åº”" class="headerlink" title="è§†å›¾å“åº”"></a>è§†å›¾å“åº”</h2><p>UIView éƒ½ç»§æ‰¿äº UIResponderï¼Œéƒ½æœ‰ä»¥ä¸‹æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">func touchesBegan(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span><br><span class="line">func touchesMoved(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?) </span><br><span class="line">func touchesEnded(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span><br><span class="line">func touchesCancelled(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœäº‹ä»¶æ²¿ç€è§†å›¾å“åº”é“¾ä¸€ç›´ä¼ é€’åˆ° UIApplicationDelegate ä»ç„¶æ²¡æœ‰ä»»ä½•ä¸€ä¸ªè§†å›¾å¤„ç†äº‹ä»¶ï¼Œç¨‹åºå°†ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>
<ul>
<li>å¿½ç•¥æ‰äº†è¿™ä¸ªäº‹ä»¶å½“ä½œä»€ä¹ˆéƒ½æ²¡æœ‰å‘ç”Ÿ</li>
</ul>
<h2 id="å›¾åƒæ˜¾ç¤ºåŸç†"><a href="#å›¾åƒæ˜¾ç¤ºåŸç†" class="headerlink" title="å›¾åƒæ˜¾ç¤ºåŸç†"></a>å›¾åƒæ˜¾ç¤ºåŸç†</h2><p>CALayer çš„ contents æ˜¯ä½å›¾</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1g1oqxcw9dvj32260n041w.jpg" alt></p>
<ul>
<li><p>CPUçš„å·¥ä½œ</p>
<p>  Layout   | Display   | Prepare    | Commite |<br>  â€”â€”â€”|â€”â€”â€”â€“|â€”â€”â€”â€”|â€”â€”â€”|<br>  UIå¸ƒå±€      | ç»˜åˆ¶         | å›¾ç‰‡ç¼–è§£ç   | æäº¤ä½å›¾ |<br>  æ–‡æœ¬è®¡ç®—  | </p>
</li>
<li><p>GPUæ¸²æŸ“ç®¡çº¿</p>
<p>  å®šç‚¹ç€è‰² | å›¾å…ƒè½¬é… | å…‰æ …åŒ– | ç‰‡æ®µç€è‰² | ç‰‡æ®µå¤„ç† |<br>  â€”â€”â€“|â€”â€”â€“|â€”â€”-|â€”â€”â€”|â€”â€”â€”|</p>
</li>
</ul>
<pre><code>æäº¤åˆ°å¸§ç¼“å†²åŒºï¼ˆframeBufferï¼‰
</code></pre><h2 id="UIå¡é¡¿æ‰å¸§çš„åŸå› "><a href="#UIå¡é¡¿æ‰å¸§çš„åŸå› " class="headerlink" title="UIå¡é¡¿æ‰å¸§çš„åŸå› "></a>UIå¡é¡¿æ‰å¸§çš„åŸå› </h2><p>1/60 ms æ—¶é—´å†…ï¼Œ ç”±cpu å’ŒGPU ååŒäº§ç”Ÿæœ€ç»ˆçš„æ•°æ®ï¼Œå½“ CPU UIå¸ƒå±€ï¼Œæ–‡æœ¬è®¡ç®—æ‰€ç”¨çš„æ—¶é—´è¾ƒé•¿æ—¶ï¼Œç•™ç»™GPUæ¸²æŸ“ï¼Œæäº¤åˆ°å¸§ç¼“å†²åŒºçš„æ—¶é—´å°±ä¼šå˜çŸ­ï¼Œè¿™æ ·ä»¥æ¥å°±ä¼šå‘ç”Ÿæ‰å¸§æƒ…å†µ</p>
<h3 id="UIView-çš„ç»˜åˆ¶åŸç†"><a href="#UIView-çš„ç»˜åˆ¶åŸç†" class="headerlink" title="UIView çš„ç»˜åˆ¶åŸç†"></a>UIView çš„ç»˜åˆ¶åŸç†</h3><p><strong>CPUä¼˜åŒ–æ–¹æ¡ˆ</strong></p>
<ul>
<li>å¯¹è±¡çš„åˆ›å»ºã€è°ƒæ•´ã€é”€æ¯æ”¾åœ¨å­çº¿ç¨‹ï¼ŒèŠ‚çœcpuçš„ä¸€éƒ¨åˆ†æ—¶é—´</li>
<li>é¢„æ’ç‰ˆï¼ˆå¸ƒå±€è®¡ç®—ï¼Œæ–‡æœ¬è®¡ç®—ï¼‰æ”¾åœ¨å­çº¿ç¨‹ä¸­</li>
<li>é¢„æ¸²æŸ“ï¼ˆæ–‡æœ¬ç­‰å¼‚æ­¥ç»˜åˆ¶ï¼Œå›¾ç‰‡ç¼–è§£ç ï¼‰ç­‰</li>
</ul>
<p><strong>GPUä¼˜åŒ–æ–¹æ¡ˆ</strong></p>
<h2 id="åœ¨å±æ¸²æŸ“"><a href="#åœ¨å±æ¸²æŸ“" class="headerlink" title="åœ¨å±æ¸²æŸ“"></a>åœ¨å±æ¸²æŸ“</h2><p>æŒ‡GPUçš„æ¸²æŸ“æ“ä½œæ˜¯åœ¨å½“å‰ç”¨äºæ˜¾ç¤ºçš„å±å¹•ç¼“å†²åŒºåŸŸä¸­è¿›è¡Œ</p>
<h2 id="ç¦»å±æ¸²æŸ“"><a href="#ç¦»å±æ¸²æŸ“" class="headerlink" title="ç¦»å±æ¸²æŸ“"></a>ç¦»å±æ¸²æŸ“</h2><p>æŒ‡GPUåœ¨å½“å‰å±å¹•ç¼“å†²åŒºåŸŸå¤–æ–°å¼€åŠˆäº†ä¸€ä¸ªç¼“å†²åŒºåŸŸè¿›è¡Œæ¸²æŸ“æ“ä½œ<br>æŒ‡å®šäº†UIè§†å›¾å›¾å±‚çš„æŸäº›å±æ€§ï¼Œæ ‡è®°ä¸ºè§†å›¾åœ¨æœªé¢„åˆæˆä¹‹å‰ä¸èƒ½ç”¨äºåœ¨å½“å‰å±å¹•ä¸Šç›´æ¥æ˜¾ç¤ºçš„æ—¶å€™å°±ä¼šå‘ç”Ÿç¦»å±æ¸²æŸ“ï¼Œä¾‹å¦‚å›¾å±‚çš„åœ†è§’è®¾ç½®å’Œè’™å±‚è®¾ç½®</p>
<ul>
<li><p>ç¦»å±æ¸²æŸ“ä½•æ—¶è§¦å‘</p>
<ul>
<li>è®¾ç½®layer çš„åœ†è§’å¹¶ä¸”å’Œ maskToBounds ä¸€èµ·ä½¿ç”¨æ—¶</li>
<li>å›¾å±‚è’™ç‰ˆ</li>
<li>é˜´å½±</li>
<li>å…‰æ …åŒ–</li>
</ul>
</li>
<li><p>ä¸ºä½•è¦é¿å…ç¦»å±æ¸²æŸ“</p>
<ul>
<li>ç¦»å±æ¸²æŸ“ï¼Œä¼šå¢åŠ  GPU çš„å·¥ä½œé‡ï¼ŒGPUå·¥ä½œé‡çš„å¢åŠ å°±å¾ˆæœ‰å¯èƒ½å¯¼è‡´CPUå’ŒGPUçš„æ€»è€—æ—¶è¶…è¿‡1/60sï¼Œå¯¼è‡´UIå¡é¡¿å’Œæ‰å¸§ </li>
</ul>
</li>
<li><p>é¿å…ç¦»å±æ¸²æŸ“</p>
</li>
</ul>
<p>###å¼‚æ­¥ç»˜åˆ¶</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1g1osowi1dtj31l70u0ag5.jpg" alt></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/aTreey/2019/06/18/ç¬¬ä¸‰ç« UIè§†å›¾å“åº”é“¾ç¦»å±æ¸²æŸ“é¢è¯•/" data-id="cjx1xeb94002za9fy5jpas5z1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-swiftä¸­å¼ºå¼•ç”¨å¾ªç¯å’Œweakå…³é”®å­—" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/18/swiftä¸­å¼ºå¼•ç”¨å¾ªç¯å’Œweakå…³é”®å­—/" class="article-date">
  <time datetime="2019-06-18T14:45:48.769Z" itemprop="datePublished">2019-06-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Swiftä¸­å†…å­˜ç®¡ç†</p>
<h3 id="å¼ºå¼•ç”¨å¾ªç¯å’Œ-weak-å…³é”®å­—"><a href="#å¼ºå¼•ç”¨å¾ªç¯å’Œ-weak-å…³é”®å­—" class="headerlink" title="å¼ºå¼•ç”¨å¾ªç¯å’Œ weak å…³é”®å­—"></a>å¼ºå¼•ç”¨å¾ªç¯å’Œ weak å…³é”®å­—</h3><p>æˆ¿ä¸œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">class Landlord &#123;</span><br><span class="line">    var name: String</span><br><span class="line">    var house: House?</span><br><span class="line">    </span><br><span class="line">    init(name: String) &#123;</span><br><span class="line">        self.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    deinit &#123;</span><br><span class="line">        print(&quot;Landlordå†…å­˜é‡Šæ”¾&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ¿å­</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">class House &#123;</span><br><span class="line">    var name: String</span><br><span class="line">    var landlord: Landlord?</span><br><span class="line">    </span><br><span class="line">    init(person: String) &#123;</span><br><span class="line">        self.name = person</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    deinit &#123;</span><br><span class="line">        print(&quot;Houseå†…å­˜é‡Šæ”¾&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¾ªç¯å¼•ç”¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">func strongRetain() &#123;</span><br><span class="line">    var landlord: Landlord? = Landlord(name: &quot;è€æ&quot;)</span><br><span class="line">    var house: House? = House(person: &quot;æœ›äº¬åºœé‚¸&quot;)</span><br><span class="line">    // æˆ¿ä¸œæœ‰ä¸ªæˆ¿å­</span><br><span class="line">    landlord?.house = house</span><br><span class="line">    // æˆ¿å­æœ‰ä¸ªä¸»äºº</span><br><span class="line">    house?.landlord = landlord</span><br><span class="line">    </span><br><span class="line">    landlord = nil</span><br><span class="line">    house = nil</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>è™½ç„¶ landlord = nil å’Œ house = nilï¼Œä½†æ˜¯ Landlord å’Œ House å†…å­˜ç©ºé—´å¹¶æ²¡æœ‰é‡Šæ”¾ ï¼ˆå¹¶æœªæ‰§è¡Œ deinit å‡½æ•°ï¼‰</p>
</li>
<li><p>åŸå› ï¼šå› ä¸ºä¸¤ä¸ªå†…å­˜ç©ºé—´ç›¸äº’å¼•ç”¨ï¼Œå¼•ç”¨è®¡æ•°ä¸ä¸º0ï¼Œå½¢æˆäº†å¼ºå¾ªç¯å¼•ç”¨</p>
</li>
<li><p>è§£å†³åŠæ³•ï¼šä½¿ç”¨weak å…³é”®å­—æ¥ä¿®é¥°ä¸¤è€…ä¸­å…¶ä¸­ä¸€ä¸ªå˜é‡</p>
<ul>
<li>ä½¿ç”¨weakä¿®é¥°çš„å˜é‡å¿…é¡»æ˜¯å¯é€‰ç±»å‹ï¼Œå¯ä»¥èµ‹å€¼ä¸ºnil</li>
<li>ä½¿ç”¨weakä¿®é¥°å¿…é¡»æ˜¯var ç±»å‹å˜é‡</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">class House &#123;</span><br><span class="line">    var name: String</span><br><span class="line">    weak var landlord: Landlord?</span><br><span class="line">    </span><br><span class="line">    init(person: String) &#123;</span><br><span class="line">        self.name = person</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    deinit &#123;</span><br><span class="line">        print(&quot;Houseå†…å­˜é‡Šæ”¾&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="unowned-å…³é”®å­—çš„ä½¿ç”¨"><a href="#unowned-å…³é”®å­—çš„ä½¿ç”¨" class="headerlink" title="unowned å…³é”®å­—çš„ä½¿ç”¨"></a>unowned å…³é”®å­—çš„ä½¿ç”¨</h3><h4 id="ç›¸äº’å¾ªç¯å¼•ç”¨çš„ä¸¤ä¸ªå˜é‡æœ‰ä¸€ä¸ªæ˜¯å¯é€‰çš„"><a href="#ç›¸äº’å¾ªç¯å¼•ç”¨çš„ä¸¤ä¸ªå˜é‡æœ‰ä¸€ä¸ªæ˜¯å¯é€‰çš„" class="headerlink" title="ç›¸äº’å¾ªç¯å¼•ç”¨çš„ä¸¤ä¸ªå˜é‡æœ‰ä¸€ä¸ªæ˜¯å¯é€‰çš„"></a>ç›¸äº’å¾ªç¯å¼•ç”¨çš„ä¸¤ä¸ªå˜é‡æœ‰ä¸€ä¸ªæ˜¯å¯é€‰çš„</h4><p>æœ‰ä¸ªèº«ä»½è¯çš„ç±»ï¼Œæ¯ä¸ªèº«ä»½è¯è‚¯å®šå¯¹åº”ä¸€ä¸ªäºº</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">class ID &#123;</span><br><span class="line">    var number: String</span><br><span class="line">    let person: Landlord</span><br><span class="line">    </span><br><span class="line">    init(person: Landlord, number: String) &#123;</span><br><span class="line">        self.person = person</span><br><span class="line">        self.number = number</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    deinit &#123;</span><br><span class="line">        print(&quot;IDå†…å­˜é‡Šæ”¾&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">æˆ¿ä¸œ</span><br></pre></td></tr></table></figure>
<p>class Landlord {<br>    var name: String<br>    var house: House?<br>    /// èº«ä»½è¯å¯ä»¥ä¸ºnilï¼Œ<br>    var id: ID?</p>
<pre><code>init(name: String) {
    self.name = name
}

deinit {
    print(&quot;Landlordå†…å­˜é‡Šæ”¾&quot;)
}
</code></pre><p>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å¾ªç¯å¼•ç”¨</span><br></pre></td></tr></table></figure>
<p>func unownedTest() {<br>    var person: Landlord? = Landlord(name: â€œè€ç‹â€)<br>    var id: ID? = ID(person: person!, number: â€œ10010â€)</p>
<pre><code>person?.id = id
person = nil
id = nil
</code></pre><p>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">-  person å’Œ id ä¹‹é—´æœ‰å¼ºå¼•ç”¨å…³ç³»</span><br><span class="line">-  æ¯ä¸ªidå¿…é¡»æœ‰ä¸€ä¸ªå¯¹åº”çš„äººå¹¶ä¸”æ˜¯å›ºå®šçš„åªèƒ½ä½¿ç”¨let ä¿®é¥°ï¼Œä¸èƒ½ä¸ºnil, è€Œidå¯ä»¥ä¸ºç©º </span><br><span class="line">- 	unownedå’Œ weak ä½œç”¨ç›¸åŒéƒ½æ˜¯å¼±å¼•ç”¨ï¼Œåªæ˜¯unowned ä¿®æ”¹çš„å˜é‡ä¸èƒ½æ˜¯nil ï¼ˆå¯é€‰å‹çš„ï¼‰</span><br><span class="line">-  unownedåªèƒ½ä½¿ç”¨åœ¨ class ç±»å‹ä¸Šï¼Œä¸èƒ½ä¿®é¥°å‡½æ•°ç±»å‹ï¼Œä¾‹å¦‚é—­åŒ…å­˜åœ¨å¾ªç¯å¼•ç”¨æ—¶ä¸èƒ½ä½¿ç”¨unownedä¿®é¥°</span><br><span class="line">-  è§£å†³æ–¹æ³•ï¼š</span><br><span class="line">	-  æ­¤æ—¶å¯ä»¥é€šè¿‡ä½¿ç”¨ weak ä¿®é¥° id çš„æ–¹å¼ï¼Œå› ä¸º id å¯ä»¥ä¸ºnil</span><br><span class="line">	-  let ä¿®é¥°å¹¶ä¸”ä¸èƒ½ä¸ºnil è¿™ç§æƒ…å†µå¯ä»¥ä½¿ç”¨ unowned ä¿®é¥°è§£å†³</span><br></pre></td></tr></table></figure>
<pre><code>class ID {
    var number: String
    unowned let person: Landlord

    init(person: Landlord, number: String) {
        self.person = person
        self.number = number
    }

    deinit {
        print(&quot;IDå†…å­˜é‡Šæ”¾&quot;)
    }
}
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">	</span><br><span class="line">**unownedæœ‰ä¸€å®šçš„å±é™©æ€§** </span><br><span class="line"></span><br><span class="line">å› ä¸ºunowned ä¿®é¥°çš„å¯¹è±¡ä¸èƒ½èµ‹å€¼ä¸ºnilï¼Œæ‰€ä»¥æ‰§è¡Œä¸‹é¢çš„ä»£ç ä¼šcrashï¼Œ</span><br></pre></td></tr></table></figure>
</code></pre><p>func unownedTest() {<br>        var person: Landlord? = Landlord(name: â€œè€ç‹â€)<br>        var id: ID? = ID(person: person!, number: â€œ10010â€)</p>
<pre><code>person?.id = id

// æå‰é‡Šæ”¾ person å†…å­˜
person = nil

// è·å–èº«ä»½è¯å¯¹åº”çš„äºº
print(id?.person) // æ­¤å¤„å¥”æºƒï¼Œ
let owner = id?.person
id = nil
</code></pre><p> }<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">æ­£ç¡®çš„å†™æ³•å› è¯¥æ˜¯å…ˆå°†ğŸ†”è®¾ç½®ä¸ºnilï¼Œå†å°† Person è®¾ç½®ä¸ºnilï¼Œå†è°ƒç”¨ print(id?.person) å°±ä¸ä¼šå†æŠ¥é”™</span><br></pre></td></tr></table></figure></p>
<p>func unownedTest() {<br>        var person: Landlord? = Landlord(name: â€œè€ç‹â€)<br>        var id: ID? = ID(person: person!, number: â€œ10010â€)</p>
<pre><code>person?.id = id

id = nil

// æå‰é‡Šæ”¾ person å†…å­˜
person = nil

// è·å–èº«ä»½è¯å¯¹åº”çš„äºº
print(id?.person) // æ­¤å¤„å¥”æºƒï¼Œ
let owner = id?.person
</code></pre><p> }<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### ç›¸äº’å¾ªç¯å¼•ç”¨çš„ä¸¤ä¸ªå˜é‡éƒ½ä¸æ˜¯å¯é€‰çš„</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨éšå¼å¯é€‰ç±»å‹</span><br><span class="line"></span><br><span class="line">### é—­åŒ…ä¸­çš„å¼ºå¼•ç”¨å¾ªç¯</span><br><span class="line"></span><br><span class="line">- å¹¶ä¸æ˜¯æ‰€æœ‰çš„é—­åŒ…éƒ½ä¼šäº§ç”Ÿå¾ªç¯å¼•ç”¨ï¼Œåªæœ‰ç›¸äº’å¼•ç”¨çš„ä¸¤ä¸ªå¯¹è±¡ä¼šäº§ç”Ÿå¾ªç¯å¼•ç”¨</span><br><span class="line"></span><br><span class="line">- ä½¿ç”¨swifté—­åŒ…æ•è·åˆ—è¡¨ï¼Œåœ¨é—­åŒ…çš„å£°æ˜å‚æ•°ä¹‹å‰ä½¿ç”¨ [unowned self], ä¸éœ€è¦è§£åŒ…</span><br><span class="line"></span><br><span class="line">- ä½¿ç”¨ unownedè¡¨ç¤ºè¿™ä¸ªå¯¹è±¡ä¸èƒ½ä¸ºç©ºï¼Œå¯èƒ½å­˜åœ¨é£é™©ï¼Œå¦‚æœå¯¹è±¡ä¸ºç©ºå°±ä¼šcrash</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ä½¿ç”¨ unowned å¯¹è±¡ä¸èƒ½ä¸ºç©ºï¼Œå¯èƒ½å­˜åœ¨é£é™©</span><br></pre></td></tr></table></figure></p>
<p>class Closure {<br>    var closure: ((Int) -&gt; Void)?</p>
<pre><code>init() {
    closure = { [unowned self] index in
        print(self)
        print(index)
    }
}
</code></pre><p>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ä½¿ç”¨ weak, æ­¤æ—¶éœ€è¦è§£åŒ…</span><br></pre></td></tr></table></figure></p>
<p>closure = { [weak self] index in<br>            // è§£åŒ…<br>            if let <code>self</code> = self {<br>                print(self)<br>                print(index)<br>            }<br>        }<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å¼ºåˆ¶è§£åŒ…</span><br></pre></td></tr></table></figure></p>
<p>closure = { [weak self] index in<br>            // å¼ºåˆ¶è§£åŒ…<br>            print(self!)<br>            print(index)<br>        }<br><code>`</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/aTreey/2019/06/18/swiftä¸­å¼ºå¼•ç”¨å¾ªç¯å’Œweakå…³é”®å­—/" data-id="cjx1xeb8u002la9fym1vmqxy0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-typescripe å®‰è£…åŠè¯­æ³•" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/18/typescripe å®‰è£…åŠè¯­æ³•/" class="article-date">
  <time datetime="2019-06-18T14:45:48.769Z" itemprop="datePublished">2019-06-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="ReactNative-ä¸­ä½¿ç”¨-TypeScript"><a href="#ReactNative-ä¸­ä½¿ç”¨-TypeScript" class="headerlink" title="ReactNative ä¸­ä½¿ç”¨ TypeScript"></a>ReactNative ä¸­ä½¿ç”¨ TypeScript</h2><blockquote>
<p>ä»RN0.57ç‰ˆæœ¬å¼€å§‹å·²ç»å¯ä»¥ç›´æ¥æ”¯æŒtypescriptï¼Œæ— éœ€ä»»ä½•é…ç½®ã€‚åœ¨ä¿ç•™æ ¹å…¥å£æ–‡ä»¶index.jsçš„å‰æä¸‹ï¼Œå…¶ä»–æ–‡ä»¶éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨.tsæˆ–.tsxåç¼€ã€‚ä½†è¿™ä¸€ç”±babelè¿›è¡Œçš„è½¬ç è¿‡ç¨‹å¹¶ä¸è¿›è¡Œå®é™…çš„ç±»å‹æ£€æŸ¥ï¼Œå› æ­¤ä»ç„¶éœ€è¦ç¼–è¾‘å™¨å’Œæ’ä»¶æ¥å…±åŒè¿›è¡Œç±»å‹æ£€æŸ¥</p>
</blockquote>
<h3 id="TypeScriptå’ŒJavaScriptå¯¹æ¯”"><a href="#TypeScriptå’ŒJavaScriptå¯¹æ¯”" class="headerlink" title="TypeScriptå’ŒJavaScriptå¯¹æ¯”"></a>TypeScriptå’ŒJavaScriptå¯¹æ¯”</h3><p><a href="https://juejin.im/entry/5a52ed336fb9a01cbd586f9f" target="_blank" rel="noopener">ä¸¤è€…æ·±åº¦å¯¹æ¯”</a></p>
<p>æœ€å¤§çš„åŒºåˆ«ï¼š</p>
<ul>
<li>TypeScriptæ˜¯å¼ºç±»å‹è¯­â¾”å’Œé™æ€ç±»å‹è¯­â¾”ï¼ˆéœ€è¦æŒ‡å®šç±»å‹ï¼‰</li>
<li>JavaScriptæ˜¯å¼±ç±»å‹è¯­â¾”å’ŒåŠ¨æ€ç±»å‹è¯­â¾”ï¼ˆä¸éœ€è¦æŒ‡å®šç±»å‹ï¼‰</li>
</ul>
<h3 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h3><p>ç”±å¾®è½¯å¼€å‘çš„è‡ªç”±å’Œå¼€æºçš„ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯JavaScriptçš„ä¸€ä¸ªä¸¥æ ¼è¶…é›†ï¼Œå¹¶æ·»åŠ äº†å¯é€‰çš„é™æ€ç±»å‹å’ŒåŸºäºç±»çš„é¢å‘å¯¹è±¡ç¼–ç¨‹</p>
<p><a href="https://zh.wikipedia.org/wiki/TypeScript" target="_blank" rel="noopener">TypeScriptå®šä¹‰</a></p>
<h3 id="å®‰è£…åŠè¯­æ³•"><a href="#å®‰è£…åŠè¯­æ³•" class="headerlink" title="å®‰è£…åŠè¯­æ³•"></a>å®‰è£…åŠè¯­æ³•</h3><p><a href="https://www.tslang.cn/docs/home.html" target="_blank" rel="noopener">æ•™ç¨‹</a></p>
<h5 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g typescript</span><br></pre></td></tr></table></figure>
<h5 id="å®‰è£…-typescript-ä¾èµ–ç®¡ç†å™¨-typings"><a href="#å®‰è£…-typescript-ä¾èµ–ç®¡ç†å™¨-typings" class="headerlink" title="å®‰è£… typescript ä¾èµ–ç®¡ç†å™¨ typings"></a>å®‰è£… typescript ä¾èµ–ç®¡ç†å™¨ typings</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g typings</span><br></pre></td></tr></table></figure>
<h5 id="å®‰è£…-typings-ä¾èµ–"><a href="#å®‰è£…-typings-ä¾èµ–" class="headerlink" title="å®‰è£… typings ä¾èµ–"></a>å®‰è£… typings ä¾èµ–</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">typings install npm~react --save</span><br><span class="line">typings install dt~react-native --globals --save</span><br></pre></td></tr></table></figure>
<h5 id="ä½¿ç”¨-yarn-å®‰è£…"><a href="#ä½¿ç”¨-yarn-å®‰è£…" class="headerlink" title="ä½¿ç”¨ yarn å®‰è£…"></a>ä½¿ç”¨ yarn å®‰è£…</h5><p>å¦‚æœå·²ç»å®‰è£…äº† yarn å®‰è£…å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yarn add tslib @types/react @types/react-native</span><br><span class="line">yarn add --dev react-native-typescript-transformer typescript</span><br></pre></td></tr></table></figure>
<h5 id="åˆ›å»º-tsconfig-json-é…ç½®æ–‡ä»¶"><a href="#åˆ›å»º-tsconfig-json-é…ç½®æ–‡ä»¶" class="headerlink" title="åˆ›å»º tsconfig.json é…ç½®æ–‡ä»¶"></a>åˆ›å»º tsconfig.json é…ç½®æ–‡ä»¶</h5><ul>
<li><p>cd åˆ° ReactNative é¡¹ç›®æ ¹æ–‡ä»¶å¤¹ä¸‹</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc --init</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹ tsconfig.json æ–‡ä»¶ </p>
<p>  å¦‚æœä¸€ä¸ªç›®å½•ä¸‹å­˜åœ¨ä¸€ä¸ªtsconfig.jsonæ–‡ä»¶ï¼Œé‚£ä¹ˆå®ƒæ„å‘³ç€è¿™ä¸ªç›®å½•æ˜¯TypeScripté¡¹ç›®çš„æ ¹ç›®å½•ã€‚ tsconfig.jsonæ–‡ä»¶ä¸­æŒ‡å®šäº†ç”¨æ¥ç¼–è¯‘è¿™ä¸ªé¡¹ç›®çš„æ ¹æ–‡ä»¶å’Œç¼–è¯‘é€‰é¡¹</p>
<p>  <a href="https://www.tslang.cn/docs/handbook/tsconfig-json.html" target="_blank" rel="noopener">tsconfig.jsonæ–‡ä»¶é…ç½®è¯¦è§£</a></p>
<p>  <a href="https://github.com/hstarorg/HstarDoc/blob/master/%E5%89%8D%E7%AB%AF%E7%9B%B8%E5%85%B3/TypeScript%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6tsconfig%E7%AE%80%E6%9E%90.md">TypeScripté…ç½®æ–‡ä»¶tsconfigç®€æ</a></p>
<p>  <strong>åŠ¡å¿…è®¾ç½®â€jsxâ€:â€reactâ€<br>æ³¨æ„å¤šä½™çš„æ³¨é‡Šå¯èƒ½ä¼šä¸å…¼å®¹ï¼Œéœ€è¦ç§»é™¤</strong></p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;compilerOptions&quot;: &#123;</span><br><span class="line">        &quot;target&quot;: &quot;es6&quot;,</span><br><span class="line">        &quot;allowJs&quot;: true,</span><br><span class="line">        &quot;jsx&quot;: &quot;react&quot;,</span><br><span class="line">        &quot;outDir&quot;: &quot;./dist&quot;,</span><br><span class="line">        &quot;sourceMap&quot;: true,</span><br><span class="line">        &quot;noImplicitAny&quot;: false</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // &quot;files&quot;å±æ€§ ï¼šæŒ‡å®šä¸€ä¸ªåŒ…å«ç›¸å¯¹æˆ–ç»å¯¹æ–‡ä»¶è·¯å¾„çš„åˆ—è¡¨ã€‚ &quot;include&quot;å’Œ&quot;exclude&quot;å±æ€§æŒ‡å®šä¸€ä¸ªæ–‡ä»¶globåŒ¹é…æ¨¡å¼åˆ—è¡¨</span><br><span class="line">    </span><br><span class="line">    &quot;include&quot;: [</span><br><span class="line">        &quot;typings/**/*.d.ts&quot;,</span><br><span class="line">        &quot;src/**/*.ts&quot;,</span><br><span class="line">        &quot;src/**/*.tsx&quot;</span><br><span class="line">    ],</span><br><span class="line">    &quot;exclude&quot;: [</span><br><span class="line">        &quot;node_modules&quot;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>cd åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸­æ–°å»ºå­˜æ”¾ typescripe æºä»£ç çš„æ–‡ä»¶å¤¹</p>
</li>
</ul>
<h5 id="å»ºç«‹-rn-cli-config-js-æ–‡ä»¶ï¼Œä½¿ç”¨æ”¯æŒtypescriptçš„transfomer"><a href="#å»ºç«‹-rn-cli-config-js-æ–‡ä»¶ï¼Œä½¿ç”¨æ”¯æŒtypescriptçš„transfomer" class="headerlink" title="å»ºç«‹ rn-cli.config.js æ–‡ä»¶ï¼Œä½¿ç”¨æ”¯æŒtypescriptçš„transfomer"></a>å»ºç«‹ rn-cli.config.js æ–‡ä»¶ï¼Œä½¿ç”¨æ”¯æŒtypescriptçš„transfomer</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  getTransformModulePath() &#123;</span><br><span class="line">    return require.resolve(&apos;react-native-typescript-transformer&apos;);</span><br><span class="line">  &#125;,</span><br><span class="line">  getSourceExts() &#123;</span><br><span class="line">    return [&apos;ts&apos;, &apos;tsx&apos;];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="ä¿®æ”¹-babelrc-æ–‡ä»¶"><a href="#ä¿®æ”¹-babelrc-æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹ .babelrc æ–‡ä»¶"></a>ä¿®æ”¹ .babelrc æ–‡ä»¶</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"> &quot;presets&quot;: [&quot;react-native&quot;],</span><br><span class="line"> &quot;plugins&quot;: [&quot;transform-decorators-legacy&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="ä¿®æ”¹é¡¹ç›®ä¸­æ–‡ä»¶å¯¼å…¥"><a href="#ä¿®æ”¹é¡¹ç›®ä¸­æ–‡ä»¶å¯¼å…¥" class="headerlink" title="ä¿®æ”¹é¡¹ç›®ä¸­æ–‡ä»¶å¯¼å…¥"></a>ä¿®æ”¹é¡¹ç›®ä¸­æ–‡ä»¶å¯¼å…¥</h5><ul>
<li>å…¥å£<code>index.js</code>å’Œ<code>App.js</code>çš„æ–‡ä»¶åè¯·ä¸è¦ä¿®æ”¹ï¼Œé¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º<code>src</code>æ–‡ä»¶å¤¹</li>
<li>åœ¨<code>src</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»º <code>.tsx</code> åç¼€çš„æ–‡ä»¶</li>
<li><p><code>.tsx</code> åç¼€çš„æ–‡ä»¶å¼•ç”¨reactçš„å†™æ³•æœ‰æ‰€åŒºåˆ«</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import * as React from &apos;react&apos;</span><br><span class="line">import &#123; Text, View &#125; from &apos;react-native&apos;;</span><br><span class="line">import &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line"></span><br><span class="line">export default class HelloWorld extends Component&#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;View&gt;</span><br><span class="line">                &lt;Text&gt;Hello!&lt;/Text&gt;</span><br><span class="line">                &lt;Text&gt;Typescript&lt;/Text&gt;</span><br><span class="line">            &lt;/View&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨<code>App.js</code>ä¸­ä½¿ç”¨</p>
<ul>
<li><p><code>App.js</code> å¯¼å…¥æ–¹å¼ä¿®æ”¹ä¸ºå¦‚ä¸‹æ–¹å¼</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">	import &apos;./src&apos;;</span><br><span class="line">	``` </span><br><span class="line">	</span><br><span class="line">- å¯¼å…¥ .tsx ç±»å‹çš„ç»„å»º</span><br></pre></td></tr></table></figure>
<p>  import HelloWorld from â€œ./src/HelloWorldâ€;</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### é…ç½®jsconfig</span><br><span class="line"></span><br><span class="line">`jsconfig.json`ç›®å½•ä¸­å­˜åœ¨æ–‡ä»¶è¡¨æ˜è¯¥ç›®å½•æ˜¯JavaScripté¡¹ç›®çš„æ ¹ç›®å½•ã€‚è¯¥jsconfig.jsonæ–‡ä»¶æŒ‡å®šæ ¹æ–‡ä»¶å’ŒJavaScriptè¯­è¨€æœåŠ¡æä¾›çš„åŠŸèƒ½é€‰é¡¹</span><br><span class="line"></span><br><span class="line">[jsconfigè¯¦è§£](https://code.visualstudio.com/docs/languages/jsconfig)</span><br><span class="line"></span><br><span class="line">[jsconfig.json](https://jeasonstudio.gitbooks.io/vscode-cn-doc/content/md/%E8%AF%AD%E8%A8%80/javascript.html?q=)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">##### æ–°å»º `jsconfig.json` æ–‡ä»¶</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<p>touch jsconfig.json<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##### ç¼–è¾‘ `jsconfig.json` æ–‡ä»¶</span><br></pre></td></tr></table></figure></p>
<p>{<br>    â€œcompilerOptionsâ€: {<br>    â€œallowJsâ€: true,<br>    â€œallowSyntheticDefaultImportsâ€: true,<br>    â€œemitDecoratorMetadataâ€: true<br>    },<br>    â€œexcludeâ€: [<br>    â€œnode_modulesâ€,<br>    â€œrnApp/Toolsâ€ // é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºçš„å­˜æ”¾RNä¸­æ‰€ç”¨çš„ä¸€äº›å·¥å…·ç±»<br>    ]<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">### package.json æ–‡ä»¶é…ç½®</span><br></pre></td></tr></table></figure>
<p>{<br>  â€œnameâ€: â€œRNProjectâ€,<br>  â€œversionâ€: â€œ0.0.1â€,<br>  â€œprivateâ€: true,<br>  â€œscriptsâ€: { // é€šè¿‡è®¾ç½®è¿™ä¸ªå¯ä»¥ä½¿npmè°ƒç”¨ä¸€äº›å‘½ä»¤è„šæœ¬ï¼Œå°è£…ä¸€äº›åŠŸèƒ½<br>    â€œstartâ€: â€œnode node_modules/react-native/local-cli/cli.js startâ€,<br>    â€œtestâ€: â€œjestâ€<br>  },<br>  â€œdependenciesâ€: { // å‘å¸ƒåä¾èµ–çš„åŒ…<br>    â€œ@types/reactâ€: â€œ^16.4.16â€,<br>    â€œ@types/react-nativeâ€: â€œ^0.57.4â€,<br>    â€œreactâ€: â€œ16.5.0â€,<br>    â€œreact-nativeâ€: â€œ0.57.2â€,<br>    â€œreact-transform-hmrâ€: â€œ^1.0.4â€,<br>    â€œtslibâ€: â€œ^1.9.3â€<br>  },</p>
<p>  â€œdevDependenciesâ€: { // å¼€å‘ä¸­ä¾èµ–çš„å…¶å®ƒåŒ…<br>    â€œbabel-jestâ€: â€œ23.6.0â€,<br>    â€œjestâ€: â€œ23.6.0â€,<br>    â€œmetro-react-native-babel-presetâ€: â€œ0.48.0â€,<br>    â€œreact-native-typescript-transformerâ€: â€œ^1.2.10â€,<br>    â€œreact-test-rendererâ€: â€œ16.5.0â€,<br>    â€œtypescriptâ€: â€œ^3.1.2â€<br>  },</p>
<p>  â€œjestâ€: { // JavaScript çš„å•å…ƒæµ‹è¯•æ¡†æ¶<br>    â€œpresetâ€: â€œreact-nativeâ€<br>  }<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##### `â€“save` å’Œ `-â€“save-dev` åŒºåˆ«</span><br><span class="line"></span><br><span class="line">- --saveå‚æ•°è¡¨ç¤ºå°†è¯¥æ¨¡å—å†™å…¥dependencieså±æ€§ï¼Œ</span><br><span class="line">- --save-devè¡¨ç¤ºå°†è¯¥æ¨¡å—å†™å…¥devDependencieså±æ€§ã€‚</span><br><span class="line"></span><br><span class="line">##### æ·»åŠ å¼€å‘ä¾èµ–åº“</span><br><span class="line"></span><br><span class="line">- ç±»å‹æ£€æŸ¥</span><br></pre></td></tr></table></figure></p>
<pre><code>npm install @types/jest --save-dev
npm install @types/react --save-dev
npm install @types/react-native --save-dev 

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- è£…é¥°å™¨è½¬åŒ–æ ¸å¿ƒæ’ä»¶</span><br></pre></td></tr></table></figure>

npm install babel-plugin-transform-decorators-legacy --save-dev
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">	</span><br><span class="line">- æµ‹è¯•æ¡†æ¶</span><br></pre></td></tr></table></figure>

npm install react-addons-test-utils --save-dev
npm install react-native-mock --save-dev
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##### åˆ é™¤ä¾èµ–åº“</span><br></pre></td></tr></table></figure>
</code></pre><p>npm uninstall @types/jest â€“save<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>npm uninstall @types/jest â€“save-dev<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##### å½»åº•åˆ é™¤ï¼Œ-d è¡¨ç¤º devDependenciesï¼Œ -O è¡¨ç¤º optionalDependencies ä¸­</span><br></pre></td></tr></table></figure></p>
<p>npm uninstall -s -D -O @types/jest</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### æŠ¥é”™æ±‡æ€»</span><br><span class="line"></span><br><span class="line">##### é”™è¯¯1 `Cannot find module &apos;react-transform-hmr/lib/index.js&apos;`</span><br><span class="line"></span><br><span class="line"> [è§£å†³1](https://stackoverflow.com/questions/50142561/cannot-find-module-react-transform-hmr-lib-index-js?noredirect=1&amp;lq=1)</span><br><span class="line">	</span><br><span class="line"> [è§£å†³2](https://github.com/facebook/react-native/issues/21530)</span><br><span class="line"></span><br><span class="line">- å®‰è£… `react-transform-hmr`</span><br></pre></td></tr></table></figure>
<pre><code>npm install react-transform-hmr --save
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- æ¸…é™¤ç¼“å­˜é‡æ–°å¯åŠ¨æœåŠ¡</span><br></pre></td></tr></table></figure>

npm start --reset-cache
```
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/aTreey/2019/06/18/typescripe å®‰è£…åŠè¯­æ³•/" data-id="cjx1xeb8w002na9fypn864z5u" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-ã€Š52ä¸ªæ–¹æ³•ç¬¬ä¸€ç« ã€‹" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/18/ã€Š52ä¸ªæ–¹æ³•ç¬¬ä¸€ç« ã€‹/" class="article-date">
  <time datetime="2019-06-18T14:45:48.769Z" itemprop="datePublished">2019-06-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>ã€Š52ä¸ªæ–¹æ³•-ç¬¬ä¸€ç« ã€‹</p>
<h3 id="ä¸€ã€OCèµ·æº"><a href="#ä¸€ã€OCèµ·æº" class="headerlink" title="ä¸€ã€OCèµ·æº"></a>ä¸€ã€OCèµ·æº</h3><ul>
<li>OCä½¿ç”¨çš„æ˜¯â€œæ¶ˆæ¯ç»“æ„â€è€Œä¸æ˜¯â€œå‡½æ•°è°ƒç”¨â€</li>
<li>ä¸¤è€…åŒºåˆ«ï¼š<ul>
<li>æ¶ˆæ¯ç»“æ„ï¼šåœ¨è¿è¡Œæ—¶æ‰€æ‰§è¡Œçš„ä»£ç ç”±è¿è¡Œç¯å¢ƒæ¥å†³å®šï¼Œæ— è®ºæ˜¯å¦å¤šæ€æ€»ä¼šåœ¨è¿è¡Œæ—¶æ‰ä¼šå»æŸ¥æ‰¾æ‰€è¦æ‰§è¡Œçš„æ–¹æ³•<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSObject *objc = [NSObject new];</span><br><span class="line">[objc performWith: parameter1 and: parameter2];</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<pre><code>- å‡½æ•°è°ƒç”¨ï¼šç”±ç¼–è¯‘å™¨å†³å®šï¼Œå¦‚æœå‡½æ•°å¤šæ€ï¼Œç¼–è¯‘æ—¶å°±è¦æŸ¥å¤„åˆ°åº•åº”è¯¥æ‰§è¡Œé‚£ä¸ªå‡½æ•°å®ç°

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Object *objc = new Object;</span><br><span class="line">   objc -&gt; perform(parameter1, parameter2);</span><br></pre></td></tr></table></figure>
</code></pre><ul>
<li>æ¶ˆæ¯ç»“æ„ä¸­ç¼–è¯‘å™¨ä¸ä¼šå…³å¿ƒæ¥æ”¶æ¶ˆæ¯çš„å¯¹è±¡æ˜¯ä½•ç§ç±»å‹ï¼Œæ¥æ”¶æ¶ˆæ¯çš„å¯¹è±¡é—®é¢˜ä¹Ÿè¦åœ¨è¿è¡Œæ—¶å¤„ç†ï¼Œæ­¤è¿‡ç¨‹å«åšâ€œåŠ¨æ€ç»‘å®šâ€</li>
</ul>
<p><strong>è¦ç‚¹ï¼š</strong></p>
<ol>
<li>OCè¯­è¨€ä½¿ç”¨çš„åŠ¨æ€ç»‘å®šçš„æ¶ˆæ¯ç»“æ„ï¼Œåœ¨è¿è¡Œæ—¶æ‰€æ‰§è¡Œçš„ä»£ç ç”±è¿è¡Œç¯å¢ƒæ¥å†³å®šï¼Œæ— è®ºæ˜¯å¦å¤šæ€æ€»ä¼šåœ¨è¿è¡Œæ—¶æ‰ä¼šå»æŸ¥æ‰¾æ‰€è¦æ‰§è¡Œçš„æ–¹æ³•ï¼Œ</li>
<li>OC ä¸­å¯¹è±¡æ€»æ˜¯åˆ†é…åœ¨â€œå †ç©ºé—´â€ï¼Œè€Œç»ä¸ä¼šåˆ†é…åœ¨â€æ ˆâ€œä¸Šï¼Œä¸å¸¦ â€œ*â€çš„å˜é‡æˆ–è€…ç»“æ„ä½“ç­‰å¯èƒ½ä¼šä½¿ç”¨â€œæ ˆç©ºé—´â€</li>
</ol>
<h3 id="äºŒã€ç±»å¤´æ–‡ä»¶å°½é‡å°‘å¯¼å…¥å…¶ä»–å¤´æ–‡ä»¶"><a href="#äºŒã€ç±»å¤´æ–‡ä»¶å°½é‡å°‘å¯¼å…¥å…¶ä»–å¤´æ–‡ä»¶" class="headerlink" title="äºŒã€ç±»å¤´æ–‡ä»¶å°½é‡å°‘å¯¼å…¥å…¶ä»–å¤´æ–‡ä»¶"></a>äºŒã€ç±»å¤´æ–‡ä»¶å°½é‡å°‘å¯¼å…¥å…¶ä»–å¤´æ–‡ä»¶</h3><p><strong>è¦ç‚¹ï¼š</strong></p>
<ol>
<li>é™¤éå¿…è¦ï¼Œå¦åˆ™ä¸è¦å¼•å…¥å¤´æ–‡ä»¶ï¼Œä½¿ç”¨å‘å‰å£°æ˜é™ä½ç±»ä¹‹é—´çš„è€¦åˆ</li>
<li>æœ‰æ—¶æ— æ³•ä½¿ç”¨å‘å‰å£°æ˜ï¼Œåº”è¯¥æŠŠè¯¥ç±»éµå®ˆåè®®çš„å£°æ˜æ”¾åˆ°â€œclass-continuationåˆ†ç±»â€ï¼ˆåŒ¿ååˆ†ç±»ï¼‰ä¸­ã€‚</li>
<li>å¦‚æœâ€œclass-continuationåˆ†ç±»â€ä¹Ÿä¸è¡Œçš„è¯ï¼Œå°±æŠŠåè®®å•ç‹¬æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå†å°†å…¶å¼•å…¥### ä¸‰ã€å¤šç”¨å­—é¢é‡è¯­æ³•ï¼Œå°‘ç”¨ä¸ä¹‹ç­‰ä»·çš„æ–¹æ³•</li>
</ol>
<h3 id="ä¸‰ã€å¤šç”¨å­—é¢é‡è¯­æ³•ï¼Œå°‘ç”¨ä¸ä¹‹ç­‰ä»·çš„æ–¹æ³•"><a href="#ä¸‰ã€å¤šç”¨å­—é¢é‡è¯­æ³•ï¼Œå°‘ç”¨ä¸ä¹‹ç­‰ä»·çš„æ–¹æ³•" class="headerlink" title="ä¸‰ã€å¤šç”¨å­—é¢é‡è¯­æ³•ï¼Œå°‘ç”¨ä¸ä¹‹ç­‰ä»·çš„æ–¹æ³•"></a>ä¸‰ã€å¤šç”¨å­—é¢é‡è¯­æ³•ï¼Œå°‘ç”¨ä¸ä¹‹ç­‰ä»·çš„æ–¹æ³•</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">- (void)tempMethond &#123;</span><br><span class="line">    // OC1.0 èµ·ï¼Œæ”¯æŒç®€å•æ–¹å¼åˆ›å»ºåŸºæœ¬ç±»å‹å¯¹è±¡</span><br><span class="line">    </span><br><span class="line">    // - ä½¿ç”¨å­—ç¬¦ä¸²å­—é¢é‡ï¼šç®€ä»‹æ˜“è¯»</span><br><span class="line">    NSString *someString = @&quot;Effective Objective-C 2.0&quot;;</span><br><span class="line">    // ä¼ ç»Ÿæ–¹å¼</span><br><span class="line">    NSString *someStrongOld = [NSString stringWithFormat:@&quot;Effective Objective-C 2.0&quot;];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    // - å­—é¢æ•°å€¼</span><br><span class="line">    NSNumber *someNumber = @1;</span><br><span class="line">    NSNumber *floatNumber = @2.5f;</span><br><span class="line">    NSNumber *doubleNumber = @3.1415926;</span><br><span class="line">    NSNumber *boolNumber = @YES;</span><br><span class="line">    NSNumber *charNumber = @&apos;a&apos;;</span><br><span class="line">    // å­—é¢é‡è¯­æ³•ç”¨äºè¡¨è¾¾å¼</span><br><span class="line">    int x = 5;</span><br><span class="line">    float y = 6.23f;</span><br><span class="line">    NSNumber *expressionNumber = @(x * y);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    // - å­—é¢é‡æ•°ç»„</span><br><span class="line">    NSArray *animals = @[@&quot;cat&quot;, @&quot;dog&quot;, @&quot;mouse&quot;, @&quot;badger&quot;];</span><br><span class="line">    NSString *dog = animals[1];</span><br><span class="line">    </span><br><span class="line">    // arrayWithObjects å’Œ å­—é¢é‡ çš„åŒºåˆ«:</span><br><span class="line">    // arrayWithObjects æ–¹æ³•ä¾æ¬¡å¤„ç†å„ä¸ªå‚æ•°ï¼Œç›´åˆ°å‘ç°nilä¸ºæ­¢</span><br><span class="line">    // å­—é¢é‡æ•°ç»„é‡åˆ°nilç›´æ¥æŠ›å‡ºå¼‚å¸¸</span><br><span class="line">    NSArray *animalsOld = [NSArray arrayWithObjects:@&quot;cat&quot;, @&quot;dog&quot;, @&quot;mouse&quot;, @&quot;badger&quot;, nil];</span><br><span class="line">    NSString *dogOld = [animalsOld objectAtIndex:1];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    // - å­—é¢é‡å­—å…¸</span><br><span class="line">    // å¦‚æœæœ‰nilç›´æ¥æŠ›å‡ºå¼‚å¸¸</span><br><span class="line">    NSDictionary *personData = @&#123;@&quot;firtName&quot;: @&quot;Matt&quot;,</span><br><span class="line">                                 @&quot;lastName&quot;: @&quot;Galloway&quot;,</span><br><span class="line">                                 @&quot;age&quot;: @28&#125;;</span><br><span class="line">    NSString *lastName = personData[@&quot;lastName&quot;];</span><br><span class="line">    </span><br><span class="line">    // dictionaryWithObjectsAndKeys æ–¹æ³•ä¾æ¬¡å¤„ç†å„ä¸ªå‚æ•°ï¼Œç›´åˆ°å‘ç°nilä¸ºæ­¢</span><br><span class="line">    NSDictionary *personDataOld = [NSDictionary dictionaryWithObjectsAndKeys:@&quot;Matt&quot;,@&quot;firtName&quot;,</span><br><span class="line">                                     @&quot;Galloway&quot;, @&quot;lastName&quot;,</span><br><span class="line">                                     [NSNumber numberWithInteger:28], @&quot;age&quot;, nil];</span><br><span class="line">    </span><br><span class="line">    NSString *lastNameOld = [personData objectForKey:@&quot;lastName&quot;];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    // - å¯å˜æ•°ç»„å’Œå­—å…¸</span><br><span class="line">    NSMutableArray *mutableArray = animals.mutableCopy;</span><br><span class="line">    mutableArray[1] = @&quot;dog&quot;;</span><br><span class="line">    </span><br><span class="line">    NSMutableDictionary *mutableDict = [personData mutableCopy];</span><br><span class="line">    mutableDict[@&quot;lastName&quot;] = @&quot;Galloway&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è¦ç‚¹ï¼š</strong></p>
<ol>
<li>ä½¿ç”¨å­—é¢é‡è¯­æ³•åˆ›å»ºå­—ç¬¦ä¸²ï¼Œæ•°å€¼ï¼Œæ•°ç»„ï¼Œå­—å…¸ç®€æ˜æ‰¼è¦</li>
<li>é€šè¿‡ä¸‹æ ‡æ“ä½œè·å–æ•°ç»„ï¼Œå­—å…¸å¯¹åº”çš„å…ƒç´ </li>
<li>ä½¿ç”¨å­—é¢é‡åˆ›å»ºæ•°ç»„ï¼Œå­—å…¸æ—¶è‹¥æœ‰nil ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œç¡®ä¿å€¼é‡Œä¸å«nil### äº”ã€ç”¨æšä¸¾è¡¨ç¤ºçŠ¶æ€ã€é€‰é¡¹ã€çŠ¶æ€ç </li>
</ol>
<h3 id="å››ã€å¤šç”¨ç±»å‹å¸¸é‡ï¼Œå°‘ç”¨-defineé¢„å¤„ç†æŒ‡ä»¤"><a href="#å››ã€å¤šç”¨ç±»å‹å¸¸é‡ï¼Œå°‘ç”¨-defineé¢„å¤„ç†æŒ‡ä»¤" class="headerlink" title="å››ã€å¤šç”¨ç±»å‹å¸¸é‡ï¼Œå°‘ç”¨#defineé¢„å¤„ç†æŒ‡ä»¤"></a>å››ã€å¤šç”¨ç±»å‹å¸¸é‡ï¼Œå°‘ç”¨#defineé¢„å¤„ç†æŒ‡ä»¤</h3><h5 id="å®å®šä¹‰"><a href="#å®å®šä¹‰" class="headerlink" title="å®å®šä¹‰"></a>å®å®šä¹‰</h5><ul>
<li>ç¼ºç‚¹ï¼š<ul>
<li>å¯ä»¥æŠŠæ‰€æœ‰ç›¸åŒçš„å­—ç¬¦ä¸²å€¼éƒ½æ›¿æ¢ä¸ºå®šä¹‰çš„å€¼ï¼Œ<ul>
<li>å®šä¹‰å‡ºæ¥çš„å¸¸é‡æ²¡æœ‰å…·ä½“çš„ç±»å‹ä¿¡æ¯</li>
<li>å¦‚æœæœ‰äººé‡æ–°å®šä¹‰äº†å®å®šä¹‰ï¼Œä¸ä¼šæœ‰è­¦å‘Šæˆ–è€…æé†’ï¼Œå¯¼è‡´ç¨‹åºä¸­å€¼ä¸ä¸€æ ·</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="ç±»å‹å¸¸é‡"><a href="#ç±»å‹å¸¸é‡" class="headerlink" title="ç±»å‹å¸¸é‡"></a>ç±»å‹å¸¸é‡</h5><ul>
<li><p>å‘½åè§„åˆ™ï¼š</p>
<ul>
<li>å¦‚æœåªæ˜¯åœ¨å®ç°æ–‡ä»¶.m ä¸­ä½¿ç”¨ï¼Œåˆ™åœ¨å‰é¢åŠ å­—æ¯k</li>
<li>å¦‚æœæ­¤å¸¸é‡åœ¨ç±»ä¹‹å¤–ä¹Ÿå¯è§ï¼Œåˆ™ä»¥ç±»åä¸ºå‰ç¼€ï¼Œï¼ˆç¬¬19æ¡è¯¦ç»†äº†è§£å‘½åä¹ æƒ¯ï¼‰</li>
</ul>
</li>
<li><p>å£°æ˜ä½ç½®ï¼š</p>
<ul>
<li>æ€»æ˜¯å–œæ¬¢åœ¨å¤´æ–‡ä»¶ä¸­å£°æ˜å®å®šä¹‰ï¼Œå¯èƒ½å’Œå¸¸é‡åå†²çªï¼Œ</li>
<li>æ‰€æœ‰å¼•å…¥è¿™ä¸ªå¤´æ–‡ä»¶çš„ç±»éƒ½ä¼šå‡ºç°å®å®šä¹‰æˆ–è€…å¸¸é‡ï¼Œç›¸å½“äºå£°æ˜äº†ä¸€ä¸ªåå«kAnimationDurationçš„å…¨å±€å˜é‡</li>
<li>åº”è¯¥åŠ ä¸Šå‰ç¼€ï¼Œè¡¨æ˜å…¶æ‰€å±çš„å…·ä½“ç±»ï¼Œä¾‹å¦‚ï¼šEOCViewClassAnimationDuration</li>
</ul>
</li>
<li><p>å¸¸é‡ä»å³å¾€å·¦è§£è¯»ä¾æ¬¡æ˜¯: å…·ä½“ç±»å‹ï¼Œä¸å¯ä¿®æ”¹</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">	// const ä¿®é¥°çš„æ˜¯å¸¸é‡ä¸å¸Œæœ›åˆ«äººä¿®æ”¹ï¼Œ NSString * æŒ‡å‘NSStringå¯¹è±¡</span><br><span class="line">	extern NSString *const EOCStringConstant; </span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	//	ä¸¤è€…å†™æ³•éƒ½å¯ä»¥</span><br><span class="line">	extern const NSTimeInterval EOCAnimatedViewAnimationDuration;</span><br><span class="line">	extern NSTimeInterval const EOCAnimatedViewAnimationDuration1;</span><br><span class="line">	```	</span><br><span class="line"></span><br><span class="line">- å¦‚æœä¸æ‰“ç®—å…¬å¼€å¸¸é‡ï¼Œå¯ä»¥å®šä¹‰åœ¨ .m å®ç°æ–‡ä»¶é‡Œ</span><br></pre></td></tr></table></figure>
<p>  static const NSTimeInterval kAnimationDuration = 0.3;</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- staticå…³é”®å­—</span><br><span class="line">	- static ä¿®é¥°æ„å‘³ç€è¯¥å˜é‡ä»…åœ¨å®šä¹‰æ­¤å˜é‡çš„ç¼–è¯‘å•å…ƒï¼ˆå®ç°æ–‡ä»¶.mï¼‰ä¸­å¯è§ï¼Œä½œç”¨åŸŸå°±æ˜¯å½“å‰.mæ–‡ä»¶</span><br></pre></td></tr></table></figure>
<pre><code>static const NSTimeInterval kAnimationDuration = 0.3;
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- å¦‚æœéœ€è¦å£°æ˜ä¸€ä¸ªå¤–éƒ¨å¯è§çš„å¸¸å€¼å˜é‡ï¼Œéœ€è¦åœ¨å¤´æ–‡ä»¶ä¸­å£°æ˜å¹¶ä½¿ç”¨ extern å…³é”®è¯ä¿®é¥° &quot;extern </span><br><span class="line"></span><br><span class="line">	åœ¨ .h æ–‡ä»¶ä¸­</span><br></pre></td></tr></table></figure>

extern NSString *const EOCStringConstant;

// ä¸¤è€…å†™æ³•éƒ½å¯ä»¥
extern const NSTimeInterval EOCAnimatedViewAnimationDuration;
extern NSTimeInterval const EOCAnimatedViewAnimationDuration1;
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">åœ¨ .m æ–‡ä»¶ä¸­</span><br></pre></td></tr></table></figure>

NSString *const EOCStringConstant = @&quot;VALUE&quot;;
const NSTimeInterval EOCAnimatedViewAnimationDuration = 0.3;
NSTimeInterval const EOCAnimatedViewAnimationDuration1 = 0.3;
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**è¦ç‚¹ï¼š**</span><br><span class="line"></span><br><span class="line">1. å®šä¹‰å¸¸é‡æ—¶static constå®šä¹‰ç¼–è¯‘å•å…ƒï¼ˆå®ç°æ–‡ä»¶.m)ä¸­å¯è§çš„å¸¸é‡ï¼Œæ— éœ€ä¸ºå…¶åç§°åŠ å‰ç¼€</span><br><span class="line">2. åœ¨å¤´æ–‡ä»¶ä¸­ä½¿ç”¨extern å£°æ˜å…¨å±€å¸¸é‡ï¼Œå¹¶åœ¨å®ç°æ–‡ä»¶ä¸­å®šä¹‰å…¶å€¼ï¼Œè¿™ç§å¸¸é‡è¦å‡ºç°åœ¨å…¨å±€ç¬¦å·è¡¨ä¸­ï¼Œæ‰€ä»¥åŠ ç›¸å…³ç±»ä½œä¸ºå‰ç¼€</span><br><span class="line"></span><br><span class="line">### äº”ã€ç”¨æšä¸¾è¡¨ç¤ºçŠ¶æ€ã€é€‰é¡¹ã€çŠ¶æ€ç </span><br><span class="line"></span><br><span class="line">- æ™®é€šæšä¸¾</span><br></pre></td></tr></table></figure>
</code></pre><p>  enum EOCConnectionState {</p>
<pre><code>EOCConnectionStateDisconnected, // æ–­å¼€è¿æ¥
EOCConnectionStateConnecting,   // è¿æ¥ä¸­...
EOCConnectionStateConnected,    // å·²è¿æ¥
</code></pre><p>  };</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ™®é€šæšä¸¾å¦‚æœè¦ä½¿ç”¨å¦‚ä¸‹ï¼š</span><br></pre></td></tr></table></figure>
<p>  enum EOCConnectionState status = EOCConnectionStateConnected;</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å¦‚æœæ¯æ¬¡éƒ½ä¸éœ€è¦è¾“å…¥enumå…³é”®å­—ï¼Œåªéœ€è¦typedefå…³é”®å­—é‡æ–°å®šä¹‰æšä¸¾ç±»å‹</span><br></pre></td></tr></table></figure>
<p>  EOCConnectionState status1 = EOCConnectionStateConnecting;</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- è®¾ç½®æšä¸¾çš„åˆå§‹å€¼</span><br></pre></td></tr></table></figure>
<p>  enum EOCConnectionStateConnectionState {</p>
<pre><code>EOCConnectionStateConnectionStateDisconnected = 1, // æ–­å¼€è¿æ¥
EOCConnectionStateConnectionStateConnecting,   // è¿æ¥ä¸­...
EOCConnectionStateConnectionStateConnected,    // å·²è¿æ¥
</code></pre><p>  };</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- å¯é€‰æšä¸¾</span><br><span class="line"></span><br><span class="line">	- &lt;&lt; ä½æ“ä½œç¬¦(å·¦ç§»)ï¼Œ è¡¨ç¤ºå¾€å·¦ç§»åŠ¨Nä½ï¼Œä½¿ç”¨ ä½è¿ç®—ç¬¦ | (æˆ–)æ¥ç»„åˆä½¿ç”¨</span><br><span class="line">	- ä½¿ç”¨ä½è¿ç®—ç¬¦ &amp;ï¼ˆä¸ï¼‰ åˆ¤æ–­æ˜¯å¦å¼€å¯äº†æŸä¸ªé€‰é¡¹</span><br></pre></td></tr></table></figure>
<p>  enum UIViewAutoresizing {</p>
<pre><code>UIViewAutoresizingNone                 = 0,
UIViewAutoresizingFlexibleLeftMargin   = 1 &lt;&lt; 0,
UIViewAutoresizingFlexibleWidth        = 1 &lt;&lt; 1,
UIViewAutoresizingFlexibleRightMargin  = 1 &lt;&lt; 2,
UIViewAutoresizingFlexibleTopMargin    = 1 &lt;&lt; 3,
UIViewAutoresizingFlexibleHeight       = 1 &lt;&lt; 4,
UIViewAutoresizingFlexibleBottomMargin = 1 &lt;&lt; 5
</code></pre><p>  }</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ä½¿ç”¨å®å®šä¹‰æšä¸¾</span><br><span class="line"></span><br><span class="line">	æ™®é€šæšä¸¾ç±»å‹ï¼ˆè€å¼è¯­æ³•å®šä¹‰æšä¸¾ï¼‰</span><br></pre></td></tr></table></figure>
<p>  typedef enum : NSUInteger {</p>
<pre><code>EOCConnectionState2DisConnected,
EOCConnectionState2DisConnecting,
EOCConnectionState2Connected,
</code></pre><p>  } EOCConnectionState2;</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">NS_ENUM å®å®šä¹‰çš„æšä¸¾å±•å¼€åï¼š</span><br></pre></td></tr></table></figure>
<p>  typedef enum EOCConnectionState_3 : NSUInteger EOCConnectionState_3;<br>  enum EOCConnectionState_3 : NSUInteger {</p>
<pre><code>EOCConnectionState_3DisConnected,
EOCConnectionState_3DisConnecting,
EOCConnectionState_3Connected,
</code></pre><p>  };</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- å®šä¹‰æ–°ç‰¹æ€§æšä¸¾</span><br></pre></td></tr></table></figure>
<p>  typedef NS_ENUM(NSUInteger, EOCConnectionState3) {</p>
<pre><code>EOCConnectionState3DisConnected,
EOCConnectionState3DisConnecting,
EOCConnectionState3Connected,
</code></pre><p>  };</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- æšä¸¾ä½¿ç”¨</span><br><span class="line"></span><br><span class="line">	.hæ–‡ä»¶</span><br></pre></td></tr></table></figure>
<p>  #import &lt;UIKit/UIKit.h&gt;</p>
<p>  typedef enum EOCConnectionState EOCConnectionState;</p>
<p>  typedef NS_ENUM(NSUInteger, EOCConnectionState3) {</p>
<pre><code>EOCConnectionState3DisConnected,
EOCConnectionState3DisConnecting,
EOCConnectionState3Connected,
</code></pre><p>  };</p>
</li>
</ul>
<pre><code>@interface EOCEnum : NSObject
@property (nonatomic, assign) enum EOCConnectionState state;
@property (nonatomic, assign) EOCConnectionState3 state3;
@end

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">.m æ–‡ä»¶ä¸­</span><br></pre></td></tr></table></figure>

#import &quot;EOCEnum.h&quot;

@implementation EOCEnum

- (void)testEnum {
    // æœªä½¿ç”¨typedef å…³é”®å­—
    enum EOCConnectionState status = EOCConnectionStateConnected;
    NSLog(@&quot;%u&quot;, status);

    // ä½¿ç”¨typedef å…³é”®å­—
    EOCConnectionState status1 = EOCConnectionStateConnecting;
    NSLog(@&quot;%u&quot;, status1);

    UIViewAutoresizing resizing = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;
    if (resizing &amp; UIViewAutoresizingFlexibleWidth) {
        // è®¾ç½®äº† UIViewAutoresizingFlexibleWidth çº¦æŸ
    }
}

// UIKit è¯•å›¾æ‰€æ”¯æŒçš„è®¾ç½®æ˜¾ç¤ºæ–¹å‘
- (UIInterfaceOrientationMask)supportedInterfaceOrientations {
    return UIInterfaceOrientationMaskPortrait | UIInterfaceOrientationMaskLandscapeLeft;
}

// æšä¸¾ä½¿ç”¨
- (void)userEnum {
    switch (_state3) {
        case EOCConnectionState3DisConnected:
            // ...
            break;

        case EOCConnectionState3DisConnecting:
            // ...
            break;

        case EOCConnectionState3Connected:
            // ...
            break;

        default: // æœ€å¥½ä¸ç”¨ï¼Œé˜²æ­¢ä»¥åå¢åŠ ä¸€ç§çŠ¶æ€æœºä¹‹åï¼Œç¼–è¯‘å™¨ä¸å‘å‡ºè­¦å‘Š
            break;
    }
}

@end
```
</code></pre><p><strong>è¦ç‚¹ï¼š</strong></p>
<ol>
<li>ä½¿ç”¨æšä¸¾è¡¨ç¤ºçŠ¶æ€æœºçš„çŠ¶æ€ã€ä¼ é€’ç»™æ–¹æ³•çš„é€‰é¡¹ä»¥åŠçŠ¶æ€ç ç­‰å€¼ï¼Œç»™æšä¸¾å€¼èµ·åæ—¶è¦æ³¨é‡æ˜“æ‡‚</li>
<li>å¦‚æœä¸€ä¸ªç±»å‹å¯ä»¥ä½¿ç”¨çŠ¶æ€æœºçš„çŠ¶æ€æ¥è¡¨ç¤ºï¼Œå¹¶ä¸”å¤šä¸ªé€‰é¡¹å¯åŒæ—¶ä½¿ç”¨ï¼Œé‚£ä¹ˆå°±å®šä¹‰ä¸ºå¯é€‰çš„æšä¸¾ç±»å‹ï¼Œæšä¸¾å„å€¼å®šä¹‰ä¸º2çš„å¹‚ï¼Œä»¥ä¾¿é€šè¿‡â€œæŒ‰ä½æˆ–â€æ“ä½œç»„åˆ</li>
<li>ä½¿ç”¨NS_ENUM å’Œ NS_OPTIONS å®æ¥å®šä¹‰æšä¸¾ï¼Œå¹¶æŒ‡æ˜åº•å±‚çš„æ•°æ®ç±»å‹ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿æšä¸¾æ˜¯ç”¨å¼€å‘è€…æ‰€é€‰çš„åº•å±‚æ•°æ®ç±»å‹å®ç°å‡ºæ¥çš„ï¼Œè€Œä¸ä¼šé‡‡ç”¨ç¼–è¯‘å™¨æ‰€é€‰çš„ç±»å‹</li>
<li>switchè¯­å¥å¤„ç†æšä¸¾ç±»å‹æ—¶ä¸è¦å®ç°default åˆ†æ”¯ï¼Œå¦‚æœä»¥ååŠ å…¥æšä¸¾çš„æ–°çŠ¶æ€ä¹‹åï¼Œç¼–è¯‘å™¨ä¼šå‘å‡ºè­¦å‘Š</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/aTreey/2019/06/18/ã€Š52ä¸ªæ–¹æ³•ç¬¬ä¸€ç« ã€‹/" data-id="cjx1xeb8x002oa9fyrwehblqy" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-ä¸€è‡ªåŠ¨å¼•ç”¨è®¡æ•°" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/18/ä¸€è‡ªåŠ¨å¼•ç”¨è®¡æ•°/" class="article-date">
  <time datetime="2019-06-18T14:45:48.769Z" itemprop="datePublished">2019-06-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>è‡ªåŠ¨å¼•ç”¨è®¡æ•°</p>
<h2 id="ä»€ä¹ˆæ˜¯è‡ªåŠ¨å¼•ç”¨è®¡æ•°"><a href="#ä»€ä¹ˆæ˜¯è‡ªåŠ¨å¼•ç”¨è®¡æ•°" class="headerlink" title="ä»€ä¹ˆæ˜¯è‡ªåŠ¨å¼•ç”¨è®¡æ•°"></a>ä»€ä¹ˆæ˜¯è‡ªåŠ¨å¼•ç”¨è®¡æ•°</h2><p>å†…å­˜ç®¡ç†ä¸­å¯¹å¼•ç”¨é‡‡å–è‡ªåŠ¨è®¡æ•°çš„æŠ€æœ¯</p>
<h2 id="å†…å­˜ç®¡ç†"><a href="#å†…å­˜ç®¡ç†" class="headerlink" title="å†…å­˜ç®¡ç†"></a>å†…å­˜ç®¡ç†</h2><ul>
<li>è‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±æ‰€æŒæœ‰ <ul>
<li>alloc</li>
<li>new</li>
<li>copy</li>
<li>mutableCopy</li>
</ul>
</li>
<li>éè‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±ä¹Ÿèƒ½æŒæœ‰ <ul>
<li>retain</li>
</ul>
</li>
<li>ä¸å†éœ€è¦è‡ªå·±æŒæœ‰çš„å¯¹è±¡æ—¶é‡Šæ”¾    <ul>
<li>release</li>
</ul>
</li>
<li><p>éè‡ªå·±æŒæœ‰çš„å¯¹è±¡æ— æ³•é‡Šæ”¾</p>
</li>
<li><p>åºŸå¼ƒå¯¹è±¡</p>
<ul>
<li>dealloc </li>
</ul>
</li>
</ul>
<h2 id="strong"><a href="#strong" class="headerlink" title="__strong"></a>__strong</h2><p>__strong ä¿®é¥°ç¬¦è¡¨ç¤ºå¯¹å¯¹è±¡çš„â€œå¼ºå¼•ç”¨â€</p>
<h3 id="unsafe-unretained-ä¿®é¥°ç¬¦"><a href="#unsafe-unretained-ä¿®é¥°ç¬¦" class="headerlink" title="__unsafe_unretained ä¿®é¥°ç¬¦"></a>__unsafe_unretained ä¿®é¥°ç¬¦</h3><p>__unsafe_unretained æ˜¯ä¸å®‰å…¨çš„æ‰€æœ‰æƒä¿®é¥°ç¬¦ï¼Œ è¢«å®ƒä¿®é¥°çš„å˜é‡ä¸å±äºç¼–è¯‘å™¨çš„å†…å­˜ç®¡ç†å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id __unsafe_unretained objc = [[NSObject alloc] init];</span><br></pre></td></tr></table></figure>
<p>Xcode æç¤ºï¼š<code>Assigning retained object to unsafe_unretained variable; object will be released after assignment</code></p>
<p>å°†ä¿ç•™å¯¹è±¡èµ‹ç»™unsafe_unretainå˜é‡;å¯¹è±¡å°†åœ¨èµ‹å€¼åé‡Šæ”¾</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">id __unsafe_unretained obj1 = nil;</span><br><span class="line">   </span><br><span class="line">   &#123;</span><br><span class="line">       id __unsafe_unretained obj = [[NSObject alloc] init];</span><br><span class="line">       </span><br><span class="line">       // è‡ªå·±ç”Ÿæˆå¹¶æŒæœ‰å¯¹è±¡</span><br><span class="line">       // å› ä¸ºobj0 å˜é‡æ˜¯__strong,å¼ºå¼•ç”¨ï¼Œæ‰€ä»¥è‡ªå·±æŒæœ‰å¯¹è±¡</span><br><span class="line">       id __strong obj0 = [[NSObject alloc] init];</span><br><span class="line">       </span><br><span class="line">       // obj0 å˜é‡èµ‹å€¼ç»™ä½ obj1</span><br><span class="line">       // ojb1 å˜é‡ä¸æŒæœ‰å¯¹è±¡çš„å¼ºåº”ç”¨ï¼Œä¹Ÿä¸æŒæœ‰å¼±å¼•ç”¨</span><br><span class="line">       obj1 = obj0;</span><br><span class="line">       </span><br><span class="line">       </span><br><span class="line">       // è¾“å‡º obj1 å˜é‡è¡¨ç¤ºçš„å¯¹è±¡</span><br><span class="line">       NSLog(@&quot;A: %@&quot;, obj1);</span><br><span class="line">   &#125; // obj0å˜é‡ è¶…å‡ºäº†å…¶ä½œç”¨åŸŸï¼Œå¼ºå¼•ç”¨å¤±æ•ˆè‡ªåŠ¨é‡Šæ”¾è‡ªå·±æŒæœ‰çš„å¯¹è±¡ï¼Œé™¤æ­¤ä¹‹å¤–æ²¡æœ‰å…¶ä»–æŒæœ‰è€…ï¼Œæ‰€ä»¥åºŸå¼ƒè¯¥å¯¹è±¡</span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">   // è¾“å‡º obj1 å˜é‡è¡¨ç¤ºçš„å¯¹è±¡</span><br><span class="line">   // obj1 å˜é‡è¡¨ç¤ºçš„å¯¹è±¡å› ä¸ºæ— æŒæœ‰è€…å·²ç»é”€æ¯ï¼Œåçš„å†…å­˜è®¿é—®</span><br><span class="line">   NSLog(@&quot;B: %@&quot;, obj1);</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/aTreey/2019/06/18/ä¸€è‡ªåŠ¨å¼•ç”¨è®¡æ•°/" data-id="cjx1xeb8x002pa9fy9083xugj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-iOSé¢è¯•OCè¯­è¨€ç‰¹æ€§" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/18/iOSé¢è¯•OCè¯­è¨€ç‰¹æ€§/" class="article-date">
  <time datetime="2019-06-18T14:45:48.768Z" itemprop="datePublished">2019-06-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="OC-è¯­è¨€ç‰¹æ€§"><a href="#OC-è¯­è¨€ç‰¹æ€§" class="headerlink" title="OC è¯­è¨€ç‰¹æ€§"></a>OC è¯­è¨€ç‰¹æ€§</h1><h2 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h2><h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>ç”±è¿è¡Œæ—¶æ¥å†³è®®çš„ï¼Œä¸åŒåˆ†ç±»å½“ä¸­å«æœ‰åŒåæ–¹æ³• è°æœ€ç»ˆç”Ÿæ•ˆå–å†³äºè°æœ€ç»ˆå‚ä¸ç¼–è¯‘ï¼Œæœ€åå‚ç¼–è¯‘çš„åŒååˆ†ç±»æ–¹æ³•ä¼šæœ€ç»ˆç”Ÿæ•ˆï¼Œå‡å¦‚åˆ†ç±»æ–¹æ³•ä¸­æ·»åŠ çš„æ–¹æ³•å’Œå®¿ä¸»ç±»ä¸­çš„æŸä¸€ä¸ªæ–¹æ³•åç›¸åŒï¼Œåˆ†ç±»ä¸­çš„æ–¹æ³•ä¼šè¦†ç›–å®¿ä¸»ç±»ä¸­çš„åŒåæ–¹æ³•ï¼Œè¦†ç›–æ˜¯æŒ‡åœ¨æ¶ˆæ¯ä¼ é€’è¿‡ç¨‹ä¸­ä¼˜å…ˆæŸ¥æ‰¾æ•°ç»„é å‰çš„å…ƒç´ ï¼Œå¦‚æœæŸ¥æ‰¾åˆ°äº†åŒåæ–¹æ³•å°±ç›´æ¥è°ƒç”¨ï¼Œå®é™…ä¸Šå®¿ä¸»ç±»çš„åŒåæ–¹æ³•å®ç°ä»ç„¶æ˜¯å­˜åœ¨çš„ï¼Œæˆ‘ä»¬å¯å¯ä»¥é€šè¿‡ä¸€äº›æ‰‹æ®µè°ƒç”¨åˆ°åŸæœ‰ç±»çš„åŒåæ–¹æ³•çš„å®ç° </p>
<h3 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h3><ul>
<li>ç”³æ˜ç§æœ‰æ–¹æ³•ï¼Œåˆ†ç±»çš„ .m æ–‡ä»¶ä¸­ç”³æ˜ç§æœ‰æ–¹æ³•å•Šï¼Œå¯¹å¤–ä¸æš´éœ²</li>
<li>å¯¹ç±»ä¸­çš„ä»£ç è¿›è¡ŒæŠ½å–åˆ†è§£</li>
<li>æŠŠFrameworkçš„ç§æœ‰æ–¹æ³•å…¬å¼€åŒ–</li>
</ul>
<h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><ul>
<li>è¿è¡Œæ—¶å†³è®®ï¼Œè¿è¡Œæ—¶é€šè¿‡runtime æ‰æŠŠåˆ†ç±»ä¸­çš„æ–¹æ³•æ·»åŠ åˆ°äº†å®¿ä¸»ç±»ä¸Š</li>
<li>å¯ä»¥ä¸ºç³»ç»Ÿç±»æ·»åŠ æ–¹æ³•</li>
<li>æœ‰å¤šä¸ªåˆ†ç±»ä¸­å­˜åœ¨åŒåæ–¹æ³•æ—¶ï¼Œæœ€åç¼–è¯‘çš„æ–¹æ³•ä¼šæœ€å…ˆç”Ÿæ•ˆ</li>
<li>åˆ†ç±»ä¸­æœ‰å’Œå®¿ä¸»ç±»åŒåæ–¹æ³•æ—¶ï¼Œåº•å±‚ä¸­é€šè¿‡å†…å­˜copyå°†åˆ†ç±»æ–¹æ³•â€œè¦†ç›–â€å®¿ä¸»ç±»æ–¹æ³•</li>
<li>åå­—ç›¸åŒçš„åˆ†ç±»ç¼–è¯‘ä¼šæŠ¥é”™</li>
</ul>
<h3 id="åˆ†ç±»ä¸­å¯ä»¥æ·»åŠ çš„å†…å®¹"><a href="#åˆ†ç±»ä¸­å¯ä»¥æ·»åŠ çš„å†…å®¹" class="headerlink" title="åˆ†ç±»ä¸­å¯ä»¥æ·»åŠ çš„å†…å®¹"></a>åˆ†ç±»ä¸­å¯ä»¥æ·»åŠ çš„å†…å®¹</h3><ul>
<li>å®ä¾‹æ–¹æ³•</li>
<li>ç±»æ–¹æ³•</li>
<li>åè®®</li>
<li>å±æ€§ï¼Œå®é™…ä¸Šåªæ˜¯å£°æ˜äº† getter / setter æ–¹æ³•ï¼Œå¹¶æ²¡æœ‰æ·»åŠ æˆå‘˜å˜é‡</li>
</ul>
<h3 id="å…³è”å¯¹è±¡æŠ€æœ¯"><a href="#å…³è”å¯¹è±¡æŠ€æœ¯" class="headerlink" title="å…³è”å¯¹è±¡æŠ€æœ¯"></a>å…³è”å¯¹è±¡æŠ€æœ¯</h3><p>å…³è”å¯¹è±¡ç”± AssocicationsManager ç®¡ç†å¹¶åœ¨ AssociationsHashMap ä¸Šå­˜å‚¨<br>æ‰€æœ‰å¯¹è±¡çš„å…³è”å†…å®¹éƒ½åœ¨åŒä¸€ä¸ªå…¨å±€å®¹å™¨ä¸­</p>
<ul>
<li>ç»™åˆ†ç±»æ·»åŠ æˆå‘˜å˜é‡ï¼Œé€šè¿‡å…³è”å¯¹è±¡çš„æ–¹å¼</li>
</ul>
<h2 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h2><h3 id="ä½¿ç”¨åœºæ™¯-1"><a href="#ä½¿ç”¨åœºæ™¯-1" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h3><ul>
<li>å£°æ˜ç§æœ‰å±æ€§</li>
<li>å£°æ˜ç§æœ‰æ–¹æ³•</li>
<li>å£°æ˜ç§æœ‰æˆå‘˜å˜é‡</li>
</ul>
<h3 id="ç‰¹ç‚¹-1"><a href="#ç‰¹ç‚¹-1" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><ul>
<li>ç¼–è¯‘æ—¶å†³è®®</li>
<li>åªä»¥å£°æ˜çš„å½¢å¼å­˜åœ¨ï¼Œå¤šæ•°æƒ…å†µä¸‹å¯„ç”Ÿåœ¨å®¿ä¸»ç±»çš„.mä¸­</li>
<li>ä¸èƒ½ä¸ºç³»ç»Ÿæ·»åŠ æ‰©å±•</li>
</ul>
<h2 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h2><ul>
<li>ä»£ç†è®¾è®¡æ¨¡å¼ï¼Œä¼ é€’æ–¹å¼æ˜¯ä¸€å¯¹ä¸€</li>
<li>ä½¿ç”¨weak é¿å…å¾ªç¯å¼•ç”¨</li>
</ul>
<h2 id="é€šçŸ¥"><a href="#é€šçŸ¥" class="headerlink" title="é€šçŸ¥"></a>é€šçŸ¥</h2><p>ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼æ¥å®ç°çš„ç”¨äºè·¨å±‚ä¼ é€’æ¶ˆæ¯çš„æœºåˆ¶</p>
<h2 id="KVO"><a href="#KVO" class="headerlink" title="KVO"></a>KVO</h2><p>KVO æ˜¯ç³»ç»Ÿå¯¹è§‚å¯Ÿè€…æ¨¡å¼çš„åˆä¸€å®ç°ï¼Œä½¿ç”¨isa æ··å†™æŠ€æœ¯ï¼ˆisa - swizzlingï¼‰æ¥åŠ¨æ€è¿è¡Œæ—¶ä¸ºæŸä¸€ä¸ªç±»æ·»åŠ ä¸€ä¸ªå­ç±»é‡å†™äº†å®ƒçš„setter æ–¹æ³•ï¼ŒåŒæ—¶å°†åŸæœ‰ç±»çš„isaæŒ‡é’ˆæŒ‡å‘äº†æ–°åˆ›å»ºçš„ç±»ä¸Š</p>
<ul>
<li>KVO æ˜¯OCå¯¹è§‚å¯Ÿè€…æ¨¡å¼çš„åˆä¸€å®ç°</li>
<li>apple ä½¿ç”¨isa æ··å†™æŠ€æœ¯ï¼ˆisa - swizzlingï¼‰æ¥å®ç°KVO<ul>
<li>ç»™æˆ‘Aç±»æ³¨å†Œä¸€ä¸ªè§‚å¯Ÿè€…æ—¶æœ¬è´¨ä¸Šæ˜¯è°ƒç”¨ç³»ç»Ÿçš„ Observer for keyPath æ–¹æ³•ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªNSKVONotifiying_A çš„ç±»</li>
</ul>
</li>
<li>ä½¿ç”¨ setter æ–¹æ³•è®¾ç½®å€¼KVOæ‰èƒ½ç”Ÿæ•ˆ</li>
<li>ä½¿ç”¨setValue:forKey: æ”¹å˜å€¼KVOæ‰èƒ½ç”Ÿæ•ˆ</li>
<li>ä½¿ç”¨ä¸‹åˆ’çº¿çš„æˆå‘˜å˜é‡ç›´æ¥ä¿®æ”¹å€¼éœ€è¦æ‰‹åŠ¨æ·»åŠ KVOæ‰èƒ½ç”Ÿæ•ˆï¼ˆå¢åŠ  willChangeValueForKey å’Œ didChangeValueForKey ä¸¤ä¸ªæ–¹æ³•ï¼‰</li>
</ul>
<h2 id="KVC"><a href="#KVC" class="headerlink" title="KVC"></a>KVC</h2><p>appleæä¾›çš„é”®å€¼ç¼–ç æŠ€æœ¯</p>
<ul>
<li>(nullable id)valueForKey:(NSString *)key;</li>
<li><p>(void)setValue:(nullable id)value forKey:(NSString *)key;</p>
<p>  ä»¥ä¸Šä¸¤ä¸ªæ–¹æ³•ä¸­çš„keyæ˜¯æ²¡æœ‰ä»»ä½•é™åˆ¶çš„ï¼Œåªè¦çŸ¥é“å¯¹åº”çš„æˆå‘˜å˜é‡åç§°ï¼Œå°±å¯ä»¥å¯¹ç§æœ‰çš„æˆå‘˜å˜é‡è®¾ç½®å’Œæ“ä½œï¼Œè¿™è¿èƒŒäº†é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ€æƒ³</p>
</li>
</ul>
<p><strong>(void)setValue:(nullable id)value forKey:(NSString *)key; æ–¹æ³•è°ƒç”¨æµç¨‹</strong></p>
<ul>
<li>å…ˆåˆ¤æ–­æ˜¯å¦æœ‰è·Ÿkey ç›¸å…³çš„setter æ–¹æ³•ï¼Œå¦‚æœæœ‰å°±ç›´æ¥è°ƒç”¨ï¼Œç»“æŸè°ƒç”¨</li>
<li>å¦‚æœæ²¡æœ‰å†åˆ¤æ–­æ˜¯å¦å­˜åœ¨å®ä¾‹å˜é‡ï¼Œå¦‚æœå­˜åœ¨ç›´æ¥ç»™èµ‹å€¼ï¼Œç»“æŸè°ƒç”¨</li>
<li>å¦‚æœè¯´å®ä¾‹å˜é‡ä¸å­˜åœ¨ï¼Œä¼šå»è°ƒç”¨ <code>- (void)setValue:(nullable id)value forUndefinedKey:(NSString *)key;</code> æŠ›å‡ºå¼‚å¸¸</li>
</ul>
<h2 id="å±æ€§å…³é”®å­—"><a href="#å±æ€§å…³é”®å­—" class="headerlink" title="å±æ€§å…³é”®å­—"></a>å±æ€§å…³é”®å­—</h2><h3 id="è¯»å†™æƒé™"><a href="#è¯»å†™æƒé™" class="headerlink" title="è¯»å†™æƒé™"></a>è¯»å†™æƒé™</h3><ul>
<li><p>readonly</p>
</li>
<li><p>readwrite ç³»ç»Ÿé»˜è®¤</p>
</li>
</ul>
<h3 id="åŸå­æ€§"><a href="#åŸå­æ€§" class="headerlink" title="åŸå­æ€§"></a>åŸå­æ€§</h3><ul>
<li>atomic ï¼ˆç³»ç»Ÿé»˜è®¤ï¼‰ä¿è¯èµ‹å€¼å’Œè·å–ï¼ˆå¯¹æˆå‘˜å±æ€§çš„ç›´æ¥è·å–å’Œèµ‹å€¼ï¼‰æ—¶çº¿ç¨‹å®‰å…¨ï¼Œå¹¶ä¸ä»£è¡¨æ“ä½œå’Œè®¿é—®ï¼Œå¦‚æœatomicä¿®é¥°çš„ä¸€ä¸ªæ•°ç»„ï¼Œåªèƒ½ä¿è¯ç‹¬å…·æ”¹æ•°ç»„çš„è¯»å–å’Œèµ‹å€¼æ—¶çº¿ç¨‹å®‰å…¨ï¼Œå¹¶ä¸èƒ½ä¿è¯å¯¹æ•°æ®æ“ä½œï¼ˆå¢åŠ /åˆ é™¤æ•°ç»„å…ƒç´ ï¼‰æ—¶æ˜¯å®‰å…¨çš„</li>
<li>nonatomic</li>
</ul>
<h3 id="å¼•ç”¨æŠ€æœ¯"><a href="#å¼•ç”¨æŠ€æœ¯" class="headerlink" title="å¼•ç”¨æŠ€æœ¯"></a>å¼•ç”¨æŠ€æœ¯</h3><ul>
<li>assign <ul>
<li>ä¿®é¥°åŸºæœ¬æ•°æ®ç±»å‹ï¼Œ</li>
<li>ä¿®é¥°å¯¹è±¡æ—¶ä¸æ”¹å˜å…¶å¼•ç”¨è®¡æ•°ï¼Œ</li>
<li>ä¼šäº§ç”Ÿæ‚¬å‚æŒ‡é’ˆ</li>
</ul>
</li>
<li>weak  <ul>
<li>ä¸æ”¹å˜è¢«ä¿®é¥°å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼Œ</li>
<li>æ‰€æŒ‡å¯¹è±¡è¢«é‡Šæ”¾ä¹‹åæŒ‡é’ˆè‡ªåŠ¨ç½®ä¸ºnil</li>
</ul>
</li>
</ul>
<p><strong>ä¸¤è€…åŒºåˆ«ï¼š</strong></p>
<ul>
<li>weakå¯ä»¥ä¿®é¥°å¯¹è±¡ï¼Œè€Œassign æ—¢å¯ä»¥ä¿®é¥°å¯¹è±¡ä¹Ÿå¯ä»¥ä¿®é¥°åŸºæœ¬æ•°æ®ç±»å‹</li>
<li>assign ä¿®é¥°çš„å¯¹è±¡ï¼Œå¯¹è±¡é‡Šæ”¾åæŒ‡é’ˆä»ç„¶æŒ‡å‘åŸå¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œè€Œweak ä¿®é¥°çš„å¯¹è±¡ï¼Œé‡Šæ”¾åä¼šè‡ªåŠ¨ç½®ä¸ºnil</li>
</ul>
<p><strong>é—®é¢˜1</strong> </p>
<p>weak ä¿®é¥°çš„å¯¹è±¡ä¸ºä»€ä¹ˆé‡Šæ”¾åä¼šè‡ªåŠ¨ç½®ä¸ºnil</p>
<p><strong>é—®é¢˜2</strong></p>
<p><code>@property (copy) NSMutableArray *array;</code> æœ‰ä»€ä¹ˆé—®é¢˜</p>
<ul>
<li>è¢«copyä¿®é¥°åï¼Œå¦‚æœèµ‹å€¼è¿‡æ¥çš„æ˜¯NSMutableArrayï¼Œcopyä¹‹åå°±æ˜¯NSArrayï¼Œå¦‚æœèµ‹å€¼è¿‡æ¥çš„æ˜¯NSAarrayï¼Œcopy ä¹‹åä»ç„¶æ˜¯NSArrayï¼Œæœ‰å¯èƒ½ä¼šè°ƒç”¨arrayçš„æ·»åŠ å…ƒç´ æ–¹æ³•ä¼šå¯¼è‡´crash</li>
</ul>
<h3 id="copy-å…³é”®è¯"><a href="#copy-å…³é”®è¯" class="headerlink" title="copy å…³é”®è¯"></a>copy å…³é”®è¯</h3><p> <img src="https://ws2.sinaimg.cn/large/006tNc79ly1g1uh6lwwe2j320s0lm7bm.jpg" alt></p>
<ul>
<li>æµ…æ‹·è´ï¼šå†…å­˜åœ°å€çš„å¤åˆ¶ï¼Œè®©ç›®æ ‡å¯¹è±¡æŒ‡é’ˆå’Œæºå¯¹è±¡æŒ‡å‘åŒä¸€å—å†…å­˜ç©ºé—´ï¼Œ<ul>
<li>ä¼šå¢åŠ å¯¹è±¡çš„å¼•ç”¨è®¡æ•°</li>
<li>å¹¶æ²¡æœ‰ä¸€ä¸ªæ–°çš„å†…å­˜åˆ†é…</li>
</ul>
</li>
</ul>
<ul>
<li>æ·±æ‹·è´ï¼šç›®æ ‡å¯¹è±¡æŒ‡é’ˆå’Œæºå¯¹è±¡æŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ä¸¤å—å†…å®¹ç›¸åŒçš„å†…å­˜ç©ºé—´<ul>
<li>ä¸ä¼šå¢åŠ æºå¯¹è±¡çš„å¼•ç”¨è®¡æ•°</li>
<li>æœ‰æ–°å¯¹è±¡çš„å†…å­˜åˆ†é…</li>
</ul>
</li>
</ul>
<h2 id="MRC-é‡å†™-retainä¿®é¥°çš„å˜é‡çš„setter-æ–¹æ³•"><a href="#MRC-é‡å†™-retainä¿®é¥°çš„å˜é‡çš„setter-æ–¹æ³•" class="headerlink" title="MRC é‡å†™ retainä¿®é¥°çš„å˜é‡çš„setter æ–¹æ³•"></a>MRC é‡å†™ retainä¿®é¥°çš„å˜é‡çš„setter æ–¹æ³•</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- (void)setObj:(id)obj &#123;</span><br><span class="line">    if (_obj != obj) &#123;</span><br><span class="line">        [_obj release];</span><br><span class="line">    &#125;</span><br><span class="line">    _obj = [obj retain];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ¤æ–­æ˜¯ä¸ºäº†é˜²æ­¢å¼‚å¸¸å¤„ç†ï¼Œå¦‚æœä¸åš if åˆ¤æ–­ï¼Œå½“ä¼ å…¥çš„ obj å¯¹è±¡æ­£å¥½æ˜¯åŸæ¥çš„_obj å¯¹è±¡ï¼Œå¯¹åŸå¯¹è±¡å°½è¡Œreleas æ“ä½œï¼Œå®é™…ä¸Šä¹Ÿä¼šå¯¹ä¼ å…¥çš„å¯¹è±¡è¿›è¡Œreleas æ“ä½œè¿›è¡Œé‡Šæ”¾ï¼Œæ­¤æ—¶å¦‚æœå†é€šè¿‡objæŒ‡é’ˆè®¿é—®åºŸå¼ƒçš„å¯¹è±¡æ—¶å°±ä¼šå¯¼è‡´carsh</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/aTreey/2019/06/18/iOSé¢è¯•OCè¯­è¨€ç‰¹æ€§/" data-id="cjx1xeb8r002ea9fy2c3z3jcd" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-is å…³é”®å­—ç±»å‹æ£€æŸ¥" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/18/is å…³é”®å­—ç±»å‹æ£€æŸ¥/" class="article-date">
  <time datetime="2019-06-18T14:45:48.768Z" itemprop="datePublished">2019-06-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>swiftç±»å‹æ£€æŸ¥å’Œç±»å‹è½¬æ¢</p>
<h3 id="is-å…³é”®å­—ç±»å‹æ£€æŸ¥"><a href="#is-å…³é”®å­—ç±»å‹æ£€æŸ¥" class="headerlink" title="is å…³é”®å­—ç±»å‹æ£€æŸ¥"></a>is å…³é”®å­—ç±»å‹æ£€æŸ¥</h3><p>åˆ¤æ–­çˆ¶ç±»å’Œå­ç±»ä¹‹é—´çš„å…³ç³»</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">func typeCheck() &#123;</span><br><span class="line">    let programmer = Programmer(name: &quot;è€å¼ -php&quot;)</span><br><span class="line">    if dev is iOSDeveloper &#123;</span><br><span class="line">        print(&quot;iOS å¼€å‘è€…&quot;)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        print(&quot;å…¶ä»–å¼€å‘è€…&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    if programmer is Coder &#123;</span><br><span class="line">        print(&quot;è€å¼ -phpæ˜¯ä¸€å†œä¸ªç å†œ&quot;)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        print(&quot;&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="as-å…³é”®å­—ç±»å‹è½¬æ¢"><a href="#as-å…³é”®å­—ç±»å‹è½¬æ¢" class="headerlink" title="as å…³é”®å­—ç±»å‹è½¬æ¢"></a>as å…³é”®å­—ç±»å‹è½¬æ¢</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let ios = iosDev as? Programmer</span><br><span class="line">let ios2 = iosDev as! Coder</span><br></pre></td></tr></table></figure>
<h3 id="åˆ¤æ–­æ˜¯å¦éµå®ˆäº†åè®®"><a href="#åˆ¤æ–­æ˜¯å¦éµå®ˆäº†åè®®" class="headerlink" title="åˆ¤æ–­æ˜¯å¦éµå®ˆäº†åè®®"></a>åˆ¤æ–­æ˜¯å¦éµå®ˆäº†åè®®</h3><p>swift ä¸­åè®®å¯ä»¥å½“ä½œæ˜¯ä¸€ä¸ªç±»å‹ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">et ios = iosDev as? Programmer</span><br><span class="line">    let ios2 = iosDev as Coder</span><br><span class="line">    </span><br><span class="line">    // æ˜¯å¦éµå®ˆäº† Person åè®®</span><br><span class="line">    if iosDev is Person &#123;</span><br><span class="line">        print(&quot;éµå®ˆäº†Personåè®®&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    let devs = [dev, iosDev, programmer] as [Any]</span><br><span class="line">    </span><br><span class="line">    for dev in devs &#123;</span><br><span class="line">        if let dev = dev as? Person &#123;</span><br><span class="line">            print(dev)</span><br><span class="line">            print(&quot;éµå®ˆPersonåè®®&quot;)</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            print(&quot;æœªéµå®ˆPersonåè®®&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="AnyObject-Any"><a href="#AnyObject-Any" class="headerlink" title="AnyObject Any"></a>AnyObject Any</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var anyObjectArray: [AnyObject] = [CGFloat(0.5) as AnyObject,</span><br><span class="line">                             			1 as AnyObject,</span><br><span class="line">                             			&quot;string&quot; as AnyObject,</span><br><span class="line">                         				iOSODev]</span><br></pre></td></tr></table></figure>
<p>swiftæ˜¯é¢å‘å‡½æ•°ç¼–ç¨‹ï¼Œ å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼Œæ•°ç»„ä¸­å¯ä»¥å­˜å…¥ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°è¡¨è¾¾çš„æ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œä¸æ˜¯ä¸€ä¸ªåè¯æˆ–è€…ç‰©ä½“ï¼Œæ‰€ä»¥å‡½æ•°ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡,éœ€è¦ä½¿ç”¨ any å…³é”®å­—</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var anyArray: [Any] = [CGFloat(0.5),</span><br><span class="line">							1,</span><br><span class="line">							&quot;string&quot;, </span><br><span class="line">							iOSODev]</span><br></pre></td></tr></table></figure>
<p>æ”¾å…¥å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">anyArray.append(&#123; (a: Int) -&gt; (Int) in return a * a &#125;)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/aTreey/2019/06/18/is å…³é”®å­—ç±»å‹æ£€æŸ¥/" data-id="cjx1xeb8u002ja9fyvkpae9vk" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-npmå’Œcnpm" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/18/npmå’Œcnpm/" class="article-date">
  <time datetime="2019-06-18T14:45:48.768Z" itemprop="datePublished">2019-06-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ReactNativeé…ç½®-npm-å’Œcnpm-ç›¸å…³"><a href="#ReactNativeé…ç½®-npm-å’Œcnpm-ç›¸å…³" class="headerlink" title="ReactNativeé…ç½®.npm å’Œcnpm ç›¸å…³"></a>ReactNativeé…ç½®.npm å’Œcnpm ç›¸å…³</h1><h3 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h3><p>Nodejsçš„åŒ…ç®¡ç†å·¥å…·</p>
<h3 id="npm-å¸¸ç”¨å‘½ä»¤"><a href="#npm-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="npm å¸¸ç”¨å‘½ä»¤"></a>npm å¸¸ç”¨å‘½ä»¤</h3><ul>
<li><p>æ›´æ–°æˆ–å¸è½½</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm update/uninstall moduleName</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹å·²å®‰è£…çš„åŒ…</p>
   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm list</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥çœ‹å…¨å±€å®‰è£…çš„åŒ…çš„è·¯å¾„</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm root -g</span><br></pre></td></tr></table></figure>
</li>
<li><p>å…¨éƒ¨å‘½ä»¤</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm help</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="cnpm"><a href="#cnpm" class="headerlink" title="cnpm"></a>cnpm</h3><p>å› ä¸ºnpmå®‰è£…æ’ä»¶æ˜¯ä»å›½å¤–æœåŠ¡å™¨ä¸‹è½½ï¼Œå—ç½‘ç»œå½±å“å¤§ï¼Œå¯èƒ½å‡ºç°å¼‚å¸¸ï¼Œcnpm <a href="https://npm.taobao.org/" target="_blank" rel="noopener">æ·˜å®é•œåƒ</a></p>
<h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>
<h3 id="è®¾ç½®é•œåƒæº"><a href="#è®¾ç½®é•œåƒæº" class="headerlink" title="è®¾ç½®é•œåƒæº"></a>è®¾ç½®é•œåƒæº</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cnpm set registry http://registry.cnpm.taobao.com</span><br><span class="line">npm set registry http://registry.cnpm.taobao.com</span><br></pre></td></tr></table></figure>
<h3 id="é…ç½®-npmrc-æ–‡ä»¶"><a href="#é…ç½®-npmrc-æ–‡ä»¶" class="headerlink" title="é…ç½® .npmrc æ–‡ä»¶"></a>é…ç½® .npmrc æ–‡ä»¶</h3><p>å‰ç«¯é¡¹ç›®å¼€å‘ç¦»ä¸å¼€å®‰è£…å„ç§npmä¾èµ–åŒ…ï¼Œå¯ä»¥é€‰æ‹©è¿œç¨‹çš„ä»“åº“ä¹Ÿå¯ä»¥é€‰æ‹©æœ¬åœ°çš„ä»“åº“ï¼Œä½†æ›´æ”¹ä»“åº“åœ°å€éœ€è¦åœ¨å®‰è£…æ—¶æ§åˆ¶å°æ‰“å‘½ä»¤ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œ è€Œnpmrcå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è§£å†³ä¸Šé¢é—®é¢˜</p>
<h3 id="npmrc-åŸç†"><a href="#npmrc-åŸç†" class="headerlink" title=".npmrc åŸç†"></a>.npmrc åŸç†</h3><p>å½“å®‰è£…é¡¹ç›®çš„ä¾èµ–åŒ…æ—¶ï¼Œä¼šæŸ¥æ‰¾å¹¶è¯»å–é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„.npmrcæ–‡ä»¶çš„é…ç½®ï¼Œè‡ªåŠ¨æŒ‡å®šä»“åº“åœ°å€</p>
<ul>
<li><p>æ‰“å¼€ .npmrc</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open .npmrc</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>ç¼–è¾‘æ–‡ä»¶, æŒ‡å®šç‰¹å®šçš„åº“çš„é•œåƒæº, æ¯”å¦‚ä»¥<code>@test</code>å¼€å¤´çš„åº“é•œåƒä¸ºï¼š<code>http://registry.cnpm.test.com/</code> è€Œå…¶ä»–çš„æ­£å¸¸</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@test:registry=http://registry.cnpm.lietou.com/</span><br><span class="line">registry=https://registry.npm.taobao.org/</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/aTreey/2019/06/18/npmå’Œcnpm/" data-id="cjx1xeb8v002ma9fymfgh45bm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-iOSé€šè¿‡URLè·å–HTMLä¸­æ ‡é¢˜" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/18/iOSé€šè¿‡URLè·å–HTMLä¸­æ ‡é¢˜/" class="article-date">
  <time datetime="2019-06-18T14:45:48.767Z" itemprop="datePublished">2019-06-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>iOSé€šè¿‡URLè·å–HTMLä¸­æ ‡é¢˜</p>
<h3 id="è·å–æ ‡é¢˜"><a href="#è·å–æ ‡é¢˜" class="headerlink" title="è·å–æ ‡é¢˜"></a>è·å–æ ‡é¢˜</h3><h5 id="Stringæ‰©å±•ä¸€ä¸ªæ–¹æ³•"><a href="#Stringæ‰©å±•ä¸€ä¸ªæ–¹æ³•" class="headerlink" title="Stringæ‰©å±•ä¸€ä¸ªæ–¹æ³•"></a>Stringæ‰©å±•ä¸€ä¸ªæ–¹æ³•</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">private let patternTitle = &quot;(?&lt;=title&gt;).*(?=&lt;/title)&quot;</span><br><span class="line">extension String &#123;</span><br><span class="line">    static func parseHTMLTitle(_ urlString: String) -&gt; String? &#123;</span><br><span class="line">        let url = URL(string: urlString)!</span><br><span class="line">        do &#123;</span><br><span class="line">            let html = try String(contentsOf: url, encoding: .utf8)</span><br><span class="line">            let range = html.range(of: patternTitle, options: String.CompareOptions.regularExpression, range: html.startIndex..&lt;html.endIndex, locale: nil)</span><br><span class="line">            guard let tempRange = range else &#123; return &quot;&quot; &#125;</span><br><span class="line">            let titleStr = html[tempRange]</span><br><span class="line">            return String(titleStr)</span><br><span class="line">        &#125; catch &#123;</span><br><span class="line">            return &quot;&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="iOS-ä¸­ç®€å•æ­£åˆ™è¡¨è¾¾å¼"><a href="#iOS-ä¸­ç®€å•æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="iOS ä¸­ç®€å•æ­£åˆ™è¡¨è¾¾å¼"></a>iOS ä¸­ç®€å•æ­£åˆ™è¡¨è¾¾å¼</h5><p>iOS ä¸­ æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„\ éœ€è¦ä½¿ç”¨ \\ æ¥è¡¨ç¤º</p>
<pre><code>// è·å–
let testStr = &quot;æˆ‘åˆ°åº•æ˜¯[iOS]å¼€å‘è¿˜æ˜¯[äº§å“]ç»ç†&quot;

// è·å– &quot;[&quot; å’Œ &quot;]&quot; ä¹‹é—´çš„æ‰€æœ‰å†…å®¹, å·¦è¾¹[ èµ·ä¸€ç›´åˆ° å³è¾¹ ] ç»“æŸçš„æ‰€æœ‰å†…å®¹ 
let pattern1 = &quot;\\[.*\\]&quot; // [iOS]å¼€å‘è¿˜æ˜¯[äº§å“]

// è·å– &quot;[&quot; å’Œ &quot;]&quot; ä¹‹é—´çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬[]
let pattern2 = &quot;\\[.*?\\]&quot;    // [iOS]

// è·å–ç¬¬ä¸€ä¸ª &quot;[&quot; å’Œ &quot;]&quot; ä¹‹é—´çš„æ‰€æœ‰å†…å®¹ ä¸åŒ…æ‹¬[] 
let pattern3 = &quot;(?&lt;=\\[).*?(?=\\])&quot; // iOS

// è·å–htmlä¸­ title æ ‡ç­¾ä¸­å†…å®¹
let pattern5 = &quot;(?&lt;=title&gt;).*(?=&lt;/title)&quot; 
</code></pre><h5 id="è·å–èŒƒå›´æˆªå–å­ä¸²"><a href="#è·å–èŒƒå›´æˆªå–å­ä¸²" class="headerlink" title="è·å–èŒƒå›´æˆªå–å­ä¸²"></a>è·å–èŒƒå›´æˆªå–å­ä¸²</h5><pre><code>let testRange1 = testStr.range(of: pattern1, options: String.CompareOptions.regularExpression, range: testStr.startIndex..&lt;testStr.endIndex, locale: nil)
    let result1 = String(testStr[testRange1!])


let testRange2 = testStr.range(of: pattern2, options: String.CompareOptions.regularExpression, range: testStr.startIndex..&lt;testStr.endIndex, locale: nil)
let result2 = String(testStr[testRange2!])


let testRange3 = testStr.range(of: pattern3, options: String.CompareOptions.regularExpression, range: testStr.startIndex..&lt;testStr.endIndex, locale: nil)
let result3 = String(testStr[testRange3!])

print(result1) 
print(result2) 
print(result3) 
</code></pre><h5 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h5><p>é€šè¿‡URLè§£æhtmlä¸­çš„æ ‡é¢˜</p>
<ul>
<li>è·å–htmlå­—ç¬¦ä¸²</li>
<li>æ­£åˆ™åŒ¹é…</li>
<li>ç”Ÿæˆå­—ç¬¦ä¸²Range</li>
<li>æˆªå–å­—ç¬¦ä¸²</li>
</ul>
<p>åŒ¹é…ä¸€æ¬¡ç›´æ¥è¿”å›ç»“æœ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// ç”Ÿæˆè¡¨è¾¾å¼</span><br><span class="line">let regular = try NSRegularExpression(pattern: pattern5, options: .caseInsensitive) </span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">// å¼€å§‹åŒ¹é…  </span><br><span class="line">let matchResult1 = regular.firstMatch(in: html, options: NSRegularExpression.MatchingOptions.reportProgress, range: NSMakeRange(0, html.count))</span><br><span class="line"></span><br><span class="line">// è·å–åŒ¹é…ç»“æœèŒƒå›´</span><br><span class="line">let matchRange = matchResult1?.range</span><br><span class="line">let range = Range(matchRange!)!</span><br><span class="line">    </span><br><span class="line">// ç”ŸæˆString.Index ç±»å‹èŒƒå›´ </span><br><span class="line">let startIndex = html.index(html.startIndex, offsetBy: range.lowerBound)</span><br><span class="line">let endIndex = html.index(html.startIndex, offsetBy: range.upperBound)</span><br><span class="line">let range3 = Range(uncheckedBounds: (lower: startIndex, upper: endIndex))</span><br><span class="line"></span><br><span class="line">// æˆªå–å­—ç¬¦ä¸²</span><br><span class="line">let result1 = String(html[range3])</span><br><span class="line">print(result1)</span><br></pre></td></tr></table></figure>
<p>å…¨éƒ¨åŒ¹é…åè¿”å›ç»“æœæ—¶ä¸€ä¸ªé›†åˆ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">let matchResult2 = regular.matches(in: html, options: .reportProgress, range: NSMakeRange(0, html.count))</span><br><span class="line">            matchResult2.forEach &#123; (result) in</span><br><span class="line">let range = Range(result.range)!</span><br><span class="line">    </span><br><span class="line">let startIndex = html.index(html.startIndex, offsetBy: range.lowerBound)</span><br><span class="line">let endIndex = html.index(html.startIndex, offsetBy: range.upperBound)</span><br><span class="line">    </span><br><span class="line">let subStr2 = html[Range(uncheckedBounds: (startIndex, endIndex))]</span><br><span class="line">print(String(subStr2))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å°†åŒ¹é…åˆ°çš„å†…å®¹æè¿˜</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let str3 = regular.stringByReplacingMatches(in: html, options: .reportProgress, range: NSMakeRange(0, html.count), withTemplate: &quot;====&quot;)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/aTreey/2019/06/18/iOSé€šè¿‡URLè·å–HTMLä¸­æ ‡é¢˜/" data-id="cjx1xeb8q002ca9fyrh4yu138" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AES-Base64-MD5/">AES, Base64, MD5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Alamofire/">Alamofire</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AlertView/">AlertView</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GCD/">GCD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OC-JS/">OC, JS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Quartz-2D/">Quartz 2D</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Quartz2D/">Quartz2D</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RunTime/">RunTime</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SDWebImage/">SDWebImage</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/">SQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Swift/">Swift</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TableView/">TableView</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WKWebView/">WKWebView</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/swift/">swift</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å¼‚æ­¥/">å¼‚æ­¥</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/æœ¬åœ°ç¼“å­˜/">æœ¬åœ°ç¼“å­˜</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AES-Base64-MD5/" style="font-size: 10px;">AES, Base64, MD5</a> <a href="/tags/Alamofire/" style="font-size: 10px;">Alamofire</a> <a href="/tags/AlertView/" style="font-size: 10px;">AlertView</a> <a href="/tags/GCD/" style="font-size: 10px;">GCD</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/OC-JS/" style="font-size: 10px;">OC, JS</a> <a href="/tags/Quartz-2D/" style="font-size: 10px;">Quartz 2D</a> <a href="/tags/Quartz2D/" style="font-size: 15px;">Quartz2D</a> <a href="/tags/RunTime/" style="font-size: 10px;">RunTime</a> <a href="/tags/SDWebImage/" style="font-size: 10px;">SDWebImage</a> <a href="/tags/SQL/" style="font-size: 10px;">SQL</a> <a href="/tags/Swift/" style="font-size: 10px;">Swift</a> <a href="/tags/TableView/" style="font-size: 10px;">TableView</a> <a href="/tags/WKWebView/" style="font-size: 20px;">WKWebView</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/swift/" style="font-size: 15px;">swift</a> <a href="/tags/å¼‚æ­¥/" style="font-size: 10px;">å¼‚æ­¥</a> <a href="/tags/æœ¬åœ°ç¼“å­˜/" style="font-size: 10px;">æœ¬åœ°ç¼“å­˜</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/06/18/ç¬¬å››ç« OCè¯­è¨€ç‰¹æ€§é¢è¯•/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/06/18/ç¬¬åä¸‰ç« ç®—æ³•é¢è¯•/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/06/18/ç¬¬åä¸€ç« è®¾è®¡æ¨¡å¼é¢è¯•/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/06/18/ç¬¬åäºŒç« æ¶æ„å’Œæ¡†æ¶é¢è¯•/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/06/18/ç¬¬åç« ç½‘ç»œç›¸å…³/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 aTreey<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>